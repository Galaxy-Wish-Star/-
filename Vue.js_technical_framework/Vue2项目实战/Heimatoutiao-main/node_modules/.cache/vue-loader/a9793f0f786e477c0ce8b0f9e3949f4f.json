{"remainingRequest":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\src\\views\\weather\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\src\\views\\weather\\index.vue","mtime":1645498622000},{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1674635617236},{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\babel-loader\\lib\\index.js","mtime":1674635619784},{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1674635617236},{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\vue-loader\\lib\\index.js","mtime":1674635619517}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGdldFdlYXRoZXIgfSBmcm9tICJAL2FwaS93ZWF0aGVyIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IHsgVG9hc3QgfSBmcm9tICd2YW50JzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJ3ZWF0aGVyIiwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaXA6ICIiLAogICAgICBzaG93UG9wdXA6IGZhbHNlLAogICAgICByZWFsVGltZToge30sCiAgICAgIGZ1dHVyZURheTogW10sCiAgICAgIHRvZGF5OiB7fSwKICAgICAgbG9hZGluZzpmYWxzZSwKICAgICAgbG9hZFN1Y2Nlczp0cnVlLAogICAgICB3dFdpbmRJZDogWwogICAgICAgICLlsI/kuo4z57qnIiwKICAgICAgICAiMy0057qnIiwKICAgICAgICAiNC0157qnIiwKICAgICAgICAiNS0257qnIiwKICAgICAgICAiNi0357qnIiwKICAgICAgICAiNy0457qnIiwKICAgICAgICAiOC0557qnIiwKICAgICAgICAiOS0xMOe6pyIsCiAgICAgICAgIjEwLTEx57qnIiwKICAgICAgICAiMTEtMTLnuqciLAogICAgICBdLAogICAgICBjaXR5OiAiIiwKICAgICAgY2l0aWVzOiBbXSwKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBhc3luYyBnZXRXZWF0aGVyKCkgewogICAgICAgIHRoaXMubG9hZGluZz10cnVlCiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCBnZXRXZWF0aGVyKHRoaXMuaXApOwogICAgICAgICAgICBjb25zdCB7IHJlc3VsdCB9ID0gZGF0YTsKICAgICAgICAgICAgY29uc3QgeyBmdXR1cmVEYXksIHJlYWxUaW1lLCB0b2RheSwgYXJlYV8xLCBhcmVhXzIsIGFyZWFfMyB9ID0gcmVzdWx0OwogICAgICAgICAgICB0aGlzLmZ1dHVyZURheSA9IGZ1dHVyZURheTsKICAgICAgICAgICAgdGhpcy50b2RheSA9IHRvZGF5OwogICAgICAgICAgICB0aGlzLnJlYWxUaW1lID0gcmVhbFRpbWU7CiAgICAgICAgICAgICh0aGlzLmNpdHkgPSBhcmVhXzEgKyBhcmVhXzIpLCArYXJlYV8zOwogICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgIFRvYXN0KCfojrflj5blpKnmsJTlpLHotKUnKTsKICAgICAgICAgICAgdGhpcy5sb2FkU3VjY2VzPWZhbHNlOwogICAgICAgIH0KICAgICAgICB0aGlzLmxvYWRpbmc9ZmFsc2U7CiAgICB9LAogICAgY2hhbmdlQ2l0eSgpIHsKICAgICAgY29uc29sZS5sb2coMTIzKTsKICAgIH0sCiAgICBhc3luYyBnZXRJcCgpIHsKICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCBheGlvcy5nZXQoImh0dHBzOi8vYXBpLmlwaWZ5Lm9yZy8/Zm9ybWF0PWpzb24iLCB7CiAgICAgICAgZGF0YVR5cGU6ICJqc29uIiwKICAgICAgICBkYXRhOiB7fSwKICAgICAgfSk7CiAgICAgIHRoaXMuaXAgPSBkYXRhLmlwOwogICAgfSwKICB9LAogIGFzeW5jIG1vdW50ZWQoKSB7CiAgICBhd2FpdCB0aGlzLmdldElwKCk7CiAgICB0aGlzLmdldFdlYXRoZXIoKTsKICB9LAp9Owo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/weather","sourcesContent":["<template>\n  <div class=\"wrapper\">\n    <!-- 顶部卡片 -->\n    <div class=\"weather-top-cotainer\">\n      <div>\n        <div class=\"main-weather\">\n          <div class=\"main-left\">\n            <span v-if=\"!loading && loadSucces\" class=\"main-tempture\">{{ realTime.wtTemp }}°</span>\n            <span v-else class=\"main-tempture\">25°</span>\n            <span v-if=\"!loading && loadSucces\" class=\"main-status\">{{ realTime.wtNm }}</span>\n            <span v-else class=\"main-status\">多云</span>\n            <van-image v-if=\"!loading && loadSucces\" :src=\"`./icon/d/${realTime.wtIcon}.png`\" fit=\"contain\" />\n            <van-image v-else :src=\"`./icon/d/01.png`\" fit=\"contain\" />\n          </div>\n          <div class=\"main-right\">\n            <span class=\"date\">{{ Date.now() | dateTime }}</span>\n          </div>\n        </div>\n        <div class=\"sub-item\">\n          <div>\n            当前{{ realTime.wtWindNm + \" \" + wtWindId[realTime.wtWindId] }}\n          </div>\n          <div>{{ today.wtTemp2 }}°~{{ today.wtTemp1 }}°</div>\n        </div>\n      </div>\n      <div class=\"bottom-item\">\n        <div class=\"today-wind\">\n          今日风向:{{ today.wtWindNm1 + \" \" + wtWindId[today.wtWinpId1] }}\n        </div>\n        <div class=\"my-location\" @click=\"showPopup = true\">\n          <div class=\"city\">您当前所在地区 {{ city }}</div>\n          <div class=\"switch\">城市不对？点此切换</div>\n        </div>\n      </div>\n    </div>\n\n    <van-popup v-model=\"showPopup\" position=\"bottom\" :style=\"{ height: '40%' }\">\n      <van-picker show-toolbar title=\"选择地区\" :columns=\"cities\" />\n    </van-popup>\n\n    <!-- 中间 -->\n    <div class=\"rain-and-api\">\n      <div class=\"rain\">降雨概率:{{ realTime.wtRainfall }}</div>\n      <div class=\"rain\">空气质量指数:{{ realTime.wtAqi }}</div>\n    </div>\n    <!-- 分割 -->\n    <div class=\"title2\">未来一周天气预报</div>\n    <div class=\"gird-future\">\n      <div class=\"grid-item\" v-for=\"(day, index) in futureDay\" :key=\"index\">\n        <img class=\"icon\" :src=\"`./icon/d/${day.wtIcon1}.png`\" />\n        <span class=\"main-text\">{{ day.wtNm1 }}</span>\n        <span class=\"temp\">{{ day.wtTemp2 }}°~{{ day.wtTemp1 }}°</span>\n        <span class=\"day\">{{ day.week }}</span>\n        <span class=\"date\">{{ day.dateYmd }}</span>\n      </div>\n    </div>\n\n    <!-- 分割 -->\n    <div class=\"title2\">生活小贴士</div>\n    <van-cell-group inset>\n      <van-cell\n        :border=\"false\"\n        v-for=\"(lifeTip, index) in today.lifeIndex\"\n        :key=\"index\"\n        :title=\"lifeTip.liNm\"\n        :value=\"lifeTip.liAttr\"\n        :label=\"lifeTip.liDese\"\n      />\n    </van-cell-group>\n  </div>\n</template>\n\n<script>\nimport { getWeather } from \"@/api/weather\";\nimport axios from \"axios\";\nimport { Toast } from 'vant';\nexport default {\n  name: \"weather\",\n  data() {\n    return {\n      ip: \"\",\n      showPopup: false,\n      realTime: {},\n      futureDay: [],\n      today: {},\n      loading:false,\n      loadSucces:true,\n      wtWindId: [\n        \"小于3级\",\n        \"3-4级\",\n        \"4-5级\",\n        \"5-6级\",\n        \"6-7级\",\n        \"7-8级\",\n        \"8-9级\",\n        \"9-10级\",\n        \"10-11级\",\n        \"11-12级\",\n      ],\n      city: \"\",\n      cities: [],\n    };\n  },\n  methods: {\n    async getWeather() {\n        this.loading=true\n        try {\n            const { data } = await getWeather(this.ip);\n            const { result } = data;\n            const { futureDay, realTime, today, area_1, area_2, area_3 } = result;\n            this.futureDay = futureDay;\n            this.today = today;\n            this.realTime = realTime;\n            (this.city = area_1 + area_2), +area_3;\n        } catch (error) {\n            Toast('获取天气失败');\n            this.loadSucces=false;\n        }\n        this.loading=false;\n    },\n    changeCity() {\n      console.log(123);\n    },\n    async getIp() {\n      const { data } = await axios.get(\"https://api.ipify.org/?format=json\", {\n        dataType: \"json\",\n        data: {},\n      });\n      this.ip = data.ip;\n    },\n  },\n  async mounted() {\n    await this.getIp();\n    this.getWeather();\n  },\n};\n</script>\n\n<style scoped lang=\"less\">\n@keyframes bg-color {\n  0% {\n    background-position: 0% 0%;\n  }\n\n  50% {\n    background-position: 100% 0%;\n  }\n\n  100% {\n    background-position: 0% 0%;\n  }\n}\n\n.wrapper {\n  margin: 0;\n  position: fixed;\n  overflow-y: auto;\n  top: 0;\n  bottom: 46px;\n  left: 0;\n  right: 0;\n  background-size: 200% 200%;\n  background-image: linear-gradient(120deg, #f9fbff 0%, #7ad5ff8a 100%);\n  animation: bg-color 10s linear infinite;\n  .van-cell-group--inset {\n    margin: 8px 10px;\n    box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.2);\n\n    .van-cell {\n      color: #fff;\n      background-image: linear-gradient(60deg, #ff9380 0%, #347afc5d 100%);\n\n      .van-cell__label {\n        color: rgb(4, 33, 196);\n      }\n\n      .van-cell__value {\n        flex: unset;\n        color: rgb(255, 255, 255);\n      }\n    }\n  }\n\n  .title2 {\n    padding: 4px 10px;\n    font-size: 20px;\n    color: rgb(21, 70, 100);\n  }\n\n  .gird-future {\n    overflow-x: auto;\n    display: flex;\n    flex-shrink: 0;\n    flex-basis: 0;\n    border-radius: 5px;\n    margin: 10px 10px;\n    box-sizing: border-box;\n    box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.2);\n    width: 355px;\n    height: 142px;\n    // background-color: rgb(96, 183, 233);\n    background-image: linear-gradient(120deg, #f79f779a 0%, #9e90e475 100%);\n\n    .grid-item {\n      position: relative;\n      width: 25%;\n      height: 142px;\n      flex-shrink: 0;\n      display: flex;\n      color: white;\n      flex-direction: column;\n      justify-content: space-evenly;\n      align-items: center;\n\n      &::after {\n        position: absolute;\n        content: \"\";\n        right: 0;\n        width: 1px;\n        height: 130px;\n        background-color: rgba(255, 255, 255, 0.404);\n      }\n\n      .icon {\n        width: 35px;\n        height: auto;\n      }\n\n      .main-text {\n        font-size: 23px;\n      }\n\n      .temp {\n        font-size: 14px;\n      }\n\n      .day {\n        font-size: 12px;\n      }\n\n      .date {\n        font-size: 10px;\n      }\n    }\n  }\n\n  .rain-and-api {\n    border-radius: 5px;\n    font-size: 16px;\n    margin: 10px 10px;\n    box-sizing: border-box;\n    box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.2);\n    width: 355px;\n    height: 40px;\n    color: #fff;\n    // background-color: rgb(96, 183, 233);\n    background-size: 200% 200%;\n    animation: bg-color 5s linear infinite;\n    background-image: linear-gradient(170deg, #ff97a5 0%, #b2def8 100%);\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 4px 7px;\n  }\n\n  .weather-top-cotainer {\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    border-radius: 10px;\n    margin: 10px 10px;\n    box-sizing: border-box;\n    box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.2);\n    width: 355px;\n    height: 162px;\n    background-size: 200% 200%;\n    background-image: linear-gradient(120deg, #a6c0fe 0%, #f68084 100%);\n    animation: bg-color 10s linear infinite;\n    // background-color: rgb(96, 183, 233);\n    padding: 7px 12px;\n\n    .main-weather {\n      color: #fff;\n      display: flex;\n      justify-content: space-between;\n      align-items: flex-start;\n\n      .main-left {\n        display: flex;\n        align-items: flex-end;\n\n        .main-tempture {\n          font-size: 48px;\n          transform: translateY(5px);\n          line-height: 48px;\n        }\n\n        .main-status {\n          font-size: 27px;\n        }\n      }\n\n      .main-right {\n        font-size: 10px;\n        padding: 5px;\n      }\n    }\n\n    .sub-item {\n      margin-left: 5px;\n      margin-top: 5px;\n      font-size: 14px;\n      color: #fff;\n    }\n\n    .bottom-item {\n      display: flex;\n      justify-content: space-between;\n      align-items: flex-end;\n      color: #fff;\n\n      .today-wind {\n        font-size: 10px;\n      }\n\n      .my-location {\n        text-align: right;\n\n        .city {\n          font-size: 14px;\n        }\n\n        .switch {\n          color: rgb(224, 223, 223);\n          font-size: 10px;\n        }\n      }\n    }\n  }\n}\n</style>"]}]}