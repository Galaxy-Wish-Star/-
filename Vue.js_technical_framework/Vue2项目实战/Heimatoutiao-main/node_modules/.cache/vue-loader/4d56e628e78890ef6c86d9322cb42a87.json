{"remainingRequest":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\src\\views\\usercollect\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\src\\views\\usercollect\\index.vue","mtime":1645498622000},{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1674635617236},{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\babel-loader\\lib\\index.js","mtime":1674635619784},{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1674635617236},{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\vue-loader\\lib\\index.js","mtime":1674635619517}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBBcnRpY2xlSXRlbSBmcm9tICJAL2NvbXBvbmVudHMvYXJ0aWNsZS1pdGVtIjsKaW1wb3J0IHsgZ2V0VXNlckNvbGxlY3QsIGRlbGV0ZUNvbGxlY3QgfSBmcm9tICJAL2FwaS9hcnRpY2xlIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJ1c2VyY29sbGVjdCIsCiAgY29tcG9uZW50czogewogICAgQXJ0aWNsZUl0ZW0sCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY29sbGVjdExpc3Q6IFtdLAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgZmluaXNoZWQ6IGZhbHNlLAogICAgICBwYWdlOiAxLAogICAgICBwZXJfcGFnZTogMTAsCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgYXN5bmMgb25Mb2FkKCkgewogICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IGdldFVzZXJDb2xsZWN0KHsKICAgICAgICBwYWdlOiB0aGlzLnBhZ2UsCiAgICAgICAgcGVyX3BhZ2U6IHRoaXMucGVyX3BhZ2UsCiAgICAgIH0pOwogICAgICB0aGlzLmNvbGxlY3RMaXN0ID0gWy4uLnRoaXMuY29sbGVjdExpc3QsIC4uLmRhdGEuZGF0YS5yZXN1bHRzXTsKICAgICAgdGhpcy5wYWdlKys7CiAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICBpZiAoZGF0YS5kYXRhLnJlc3VsdHMubGVuZ3RoID09IDApIHsKICAgICAgICB0aGlzLmZpbmlzaGVkID0gdHJ1ZTsKICAgICAgfQogICAgfSwKICAgIGFzeW5jIGJlZm9yZUNsb3NlKHsgbmFtZSwgcG9zaXRpb24sIGluc3RhbmNlIH0pIHsKICAgICAgc3dpdGNoIChwb3NpdGlvbikgewogICAgICAgIGNhc2UgImxlZnQiOgogICAgICAgIGNhc2UgImNlbGwiOgogICAgICAgIGNhc2UgIm91dHNpZGUiOgogICAgICAgICAgaW5zdGFuY2UuY2xvc2UoKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgInJpZ2h0IjoKICAgICAgICAgIGF3YWl0IGRlbGV0ZUNvbGxlY3QodGhpcy5jb2xsZWN0TGlzdFtuYW1lXS5hcnRfaWQpOwogICAgICAgICAgdGhpcy5jb2xsZWN0TGlzdC5zcGxpY2UobmFtZSwgMSk7CiAgICAgICAgICBpbnN0YW5jZS5jbG9zZSgpOwogICAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAyBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/usercollect","sourcesContent":["<template>\n  <div class=\"usercollect\">\n    <van-nav-bar title=\"收藏\" left-arrow @click-left=\"$router.back()\" />\n    <!-- 渲染组件块 -->\n    <van-list\n      v-model=\"loading\"\n      :finished=\"finished\"\n      finished-text=\"没有更多了\"\n      @load=\"onLoad\"\n    >\n      <!-- 单元格结构 -->\n      <div v-for=\"(item, index) in collectList\" :key=\"index\">\n        <van-swipe-cell :before-close=\"beforeClose\" :name=\"index\">\n          <article-item :article=\"item\" />\n          <template #right>\n            <van-button class=\"button\" square type=\"danger\" text=\"移除\" />\n          </template>\n        </van-swipe-cell>\n      </div>\n    </van-list>\n    <div class=\"tips\">左滑可以调出删除按钮哦~</div>\n  </div>\n</template>\n\n<script>\nimport ArticleItem from \"@/components/article-item\";\nimport { getUserCollect, deleteCollect } from \"@/api/article\";\nexport default {\n  name: \"usercollect\",\n  components: {\n    ArticleItem,\n  },\n  data() {\n    return {\n      collectList: [],\n      loading: false,\n      finished: false,\n      page: 1,\n      per_page: 10,\n    };\n  },\n  methods: {\n    async onLoad() {\n      const { data } = await getUserCollect({\n        page: this.page,\n        per_page: this.per_page,\n      });\n      this.collectList = [...this.collectList, ...data.data.results];\n      this.page++;\n      this.loading = false;\n      if (data.data.results.length == 0) {\n        this.finished = true;\n      }\n    },\n    async beforeClose({ name, position, instance }) {\n      switch (position) {\n        case \"left\":\n        case \"cell\":\n        case \"outside\":\n          instance.close();\n          break;\n        case \"right\":\n          await deleteCollect(this.collectList[name].art_id);\n          this.collectList.splice(name, 1);\n          instance.close();\n          break;\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n@keyframes opt {\n  0% {\n    opacity: 0;\n    transform: scaleX(0) scaleY(0);\n  }\n\n  50% {\n    opacity: 1;\n    transform: scaleX(100%) scaleY(100%);\n  }\n\n  100% {\n    opacity: 0;\n    transform: scaleX(0) scaleY(0);\n  }\n}\n\n.button {\n  height: 100%;\n}\n\n.tips {\n  width: 150px;\n  height: 30px;\n  font-size: 10px;\n  line-height: 30px;\n  text-align: center;\n  background-color: rgb(248, 45, 96);\n  box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.3);\n  border-radius: 10px;\n  color: rgb(255, 255, 255);\n  position: fixed;\n  bottom: 20%;\n  opacity: 0;\n  animation: opt 4s ease forwards;\n  animation-delay: 1s;\n  left: 0;\n  right: 0;\n  margin: 0 auto;\n}\n</style>"]}]}