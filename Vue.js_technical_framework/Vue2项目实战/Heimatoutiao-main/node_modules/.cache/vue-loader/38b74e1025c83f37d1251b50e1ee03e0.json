{"remainingRequest":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\src\\views\\search\\components\\search-result.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\src\\views\\search\\components\\search-result.vue","mtime":1645498622000},{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1674635617236},{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\babel-loader\\lib\\index.js","mtime":1674635619784},{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1674635617236},{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\vue-loader\\lib\\index.js","mtime":1674635619517}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7CiAgICBnZXRTZWFyY2hSZXN1bHQKfSBmcm9tICdAL2FwaS9zZWFyY2gnOwppbXBvcnQgQXJ0aWNsZUl0ZW0gZnJvbSAnQC9jb21wb25lbnRzL2FydGljbGUtaXRlbSc7CmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICdzZWFyY2hSZXN1bHQnLAogICAgY29tcG9uZW50czp7CiAgICAgICAgQXJ0aWNsZUl0ZW0KICAgIH0sCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGxpc3Q6IFtdLAogICAgICAgICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgICAgICAgZmluaXNoZWQ6IGZhbHNlLAogICAgICAgICAgICBwYWdlOiAxLAogICAgICAgICAgICBwZXJfcGFnZTogMTAsCiAgICAgICAgfQogICAgfSwKICAgIHByb3BzOiBbJ3NlYXJjaFRleHQnXSwKICAgIG1ldGhvZHM6IHsKICAgICAgICBhc3luYyBvbkxvYWQoKSB7CiAgICAgICAgICAgIC8vIOW8guatpeabtOaWsOaVsOaNrgogICAgICAgICAgICBjb25zdCB7CiAgICAgICAgICAgICAgICBkYXRhCiAgICAgICAgICAgIH0gPSBhd2FpdCBnZXRTZWFyY2hSZXN1bHQoewogICAgICAgICAgICAgICAgcGFnZTogdGhpcy5wYWdlLAogICAgICAgICAgICAgICAgcGVyX3BhZ2U6IHRoaXMucGVyX3BhZ2UsCiAgICAgICAgICAgICAgICBxOiB0aGlzLnNlYXJjaFRleHQKICAgICAgICAgICAgfSkKICAgICAgICAgICAgY29uc3Qge3Jlc3VsdHN9ID0gZGF0YS5kYXRhOwogICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHRzKTsKICAgICAgICAgICAgdGhpcy5saXN0LnB1c2goLi4ucmVzdWx0cyk7CgogICAgICAgICAgICAvLyDliqDovb3nirbmgIHnu5PmnZ8KICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CgogICAgICAgICAgICAvLyDmlbDmja7lhajpg6jliqDovb3lrozmiJAKICAgICAgICAgICAgaWYocmVzdWx0cy5sZW5ndGgpewogICAgICAgICAgICAgICAgdGhpcy5wYWdlKysKICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICB0aGlzLmZpbmlzaGVkPXRydWU7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgfQp9Cg=="},{"version":3,"sources":["search-result.vue"],"names":[],"mappings":";;;;;;;;;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"search-result.vue","sourceRoot":"src/views/search/components","sourcesContent":["<template>\n    <div class=\"search-result\">\n        <van-list v-model=\"loading\" :finished=\"finished\" finished-text=\"没有更多了\" @load=\"onLoad\">\n            <article-item v-for=\"(article,index) in list\" :key=\"index\" :article=\"article\" />\n        </van-list>\n    </div>\n</template>\n\n<script>\n    import {\n        getSearchResult\n    } from '@/api/search';\n    import ArticleItem from '@/components/article-item';\n    export default {\n        name: 'searchResult',\n        components:{\n            ArticleItem\n        },\n        data() {\n            return {\n                list: [],\n                loading: false,\n                finished: false,\n                page: 1,\n                per_page: 10,\n            }\n        },\n        props: ['searchText'],\n        methods: {\n            async onLoad() {\n                // 异步更新数据\n                const {\n                    data\n                } = await getSearchResult({\n                    page: this.page,\n                    per_page: this.per_page,\n                    q: this.searchText\n                })\n                const {results} = data.data;\n                console.log(results);\n                this.list.push(...results);\n\n                // 加载状态结束\n                this.loading = false;\n\n                // 数据全部加载完成\n                if(results.length){\n                    this.page++\n                }else{\n                    this.finished=true;\n                }\n            },\n        }\n    }\n</script>\n\n<style scoped lang=\"less\">\n    .search-result {\n        position: fixed;\n        right: 0;\n        left: 0;\n        bottom: 0;\n        top: 54px;\n        overflow-y: auto;\n    }\n</style>"]}]}