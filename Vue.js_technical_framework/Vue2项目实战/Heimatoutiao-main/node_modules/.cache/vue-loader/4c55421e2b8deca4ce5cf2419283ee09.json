{"remainingRequest":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\src\\views\\article\\components\\post-comment.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\src\\views\\article\\components\\post-comment.vue","mtime":1645498622000},{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1674635617236},{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\babel-loader\\lib\\index.js","mtime":1674635619784},{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1674635617236},{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\vue-loader\\lib\\index.js","mtime":1674635619517}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7CiAgICBhZGRDb21tZW50Cn0gZnJvbSAnQC9hcGkvY29tbWVudCc7CmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICdwb3N0Q29tbWVudCcsCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIG1lc3NhZ2U6ICcnCiAgICAgICAgfQogICAgfSwKICAgIHByb3BzOiB7CiAgICAgICAgdGFyZ2V0OiB7CiAgICAgICAgICAgIHR5cGU6IFtOdW1iZXIsIFN0cmluZywgT2JqZWN0XSwKICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAgICB9LAogICAgICAgIGFydGljbGVJZDogewogICAgICAgICAgICB0eXBlOiBbTnVtYmVyLCBTdHJpbmcsIE9iamVjdF0sCiAgICAgICAgICAgIGRlZmF1bHQ6IG51bGwKICAgICAgICB9CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIGFzeW5jIG9uQ29tbWVudCgpIHsKICAgICAgICAgICAgbGV0IGRhdGE9bnVsbDsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGRhdGE9YXdhaXQgYWRkQ29tbWVudCh7CiAgICAgICAgICAgICAgICB0YXJnZXQ6IHRoaXMudGFyZ2V0LAogICAgICAgICAgICAgICAgY29udGVudDogdGhpcy5tZXNzYWdlLAogICAgICAgICAgICAgICAgYXJ0X2lkOiB0aGlzLmFydGljbGVJZCA9PT0gbnVsbD9udWxsOnRoaXMuYXJ0aWNsZUlkCiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgICAgICB0aGlzLiR0b2FzdChlcnJvci5tZXNzYWdlKQogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMuJGVtaXQoJ3Bvc3Qtc3VjY2Vzcycse2lkT2JqOmRhdGEuZGF0YS5kYXRhLGNvbnRlbnQ6dGhpcy5tZXNzYWdlfSk7CiAgICAgICAgICAgIHRoaXMuJHRvYXN0LnN1Y2Nlc3MoJ+WPkeW4g+aIkOWKn++8gScpOwogICAgICAgICAgICB0aGlzLm1lc3NhZ2U9Jyc7CiAgICAgICAgfQogICAgfSwKfQo="},{"version":3,"sources":["post-comment.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;AAeA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"post-comment.vue","sourceRoot":"src/views/article/components","sourcesContent":["<template>\n    <div class=\"post\">\n        <van-field v-model=\"message\" rows=\"2\" autosize type=\"textarea\" maxlength=\"50\" placeholder=\"请输入评论\"\n            show-word-limit />\n        <van-button \n        @click=\"onComment\"\n        :disabled=\"!message\"\n        size=\"small\" \n        round class=\"publish-btn\" type=\"primary\" plain>\n        发送\n        </van-button>\n    </div>\n</template>\n\n<script>\n    import {\n        addComment\n    } from '@/api/comment';\n    export default {\n        name: 'postComment',\n        data() {\n            return {\n                message: ''\n            }\n        },\n        props: {\n            target: {\n                type: [Number, String, Object],\n                required: true\n            },\n            articleId: {\n                type: [Number, String, Object],\n                default: null\n            }\n        },\n        methods: {\n            async onComment() {\n                let data=null;\n                try {\n                    data=await addComment({\n                    target: this.target,\n                    content: this.message,\n                    art_id: this.articleId === null?null:this.articleId\n                })\n                } catch (error) {\n                    this.$toast(error.message)\n                }\n                this.$emit('post-success',{idObj:data.data.data,content:this.message});\n                this.$toast.success('发布成功！');\n                this.message='';\n            }\n        },\n    }\n</script>\n\n<style lang=\"less\">\n    .post {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        padding: 10px;\n\n        .publish-btn {\n            font-size: 12px;\n            width: 48px;\n            height: 24px;\n        }\n    }\n</style>"]}]}