{"remainingRequest":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\src\\views\\my\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\src\\views\\my\\index.vue","mtime":1645498622000},{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1674635617236},{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\babel-loader\\lib\\index.js","mtime":1674635619784},{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1674635617236},{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\vue-loader\\lib\\index.js","mtime":1674635619517}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAidnVleCI7CmltcG9ydCB7IGdldFVzZXJJbmZvIH0gZnJvbSAiQC9hcGkiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIm15IiwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY3VycmVudFVzZXI6IHt9LAogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBTdGF0ZShbInVzZXIiXSksCiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5nZXRVc2VySW5mbygpOwogIH0sCiAgbWV0aG9kczogewogICAgb25Mb2dvdXQoKSB7CiAgICAgIHRoaXMuJGRpYWxvZwogICAgICAgIC5jb25maXJtKHsKICAgICAgICAgIHRpdGxlOiAi56Gu6K6k6YCA5Ye66LSm5oi35ZCXIiwKICAgICAgICAgIG1lc3NhZ2U6ICLpgIDlh7rlkI7lsIbmuIXpmaTlvZPliY3miYDmnInnlKjmiLfmlbDmja4iLAogICAgICAgIH0pCiAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgLy8gb24gY29uZmlybQogICAgICAgICAgLy8g5riF6Zmk55So5oi354q25oCBCiAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoIlNFVFVTRVIiLCBudWxsKTsKICAgICAgICAgIC8vIOmAmui/h+iuvue9rnVzZXLkuLpudWxsIOadpei+vuWIsOa4heepuueUqOaIt+aVsOaNrueahOebrueahAogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKCgpID0+IHsKICAgICAgICAgIC8vIG9uIGNhbmNlbAogICAgICAgICAgLy8g5Y+W5raI55qE5Zue6LCDIOebtOaOpXJldHVybgogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0pOwogICAgfSwKICAgIGFzeW5jIGdldFVzZXJJbmZvKCkgewogICAgICBpZiAodGhpcy51c2VyKSB7CiAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCBnZXRVc2VySW5mbygpOwogICAgICAgIHRoaXMuY3VycmVudFVzZXIgPSBkYXRhLmRhdGE7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/my","sourcesContent":["<template>\n  <div class=\"my-container\">\n    <!-- 头像容器 -->\n    <van-cell-group v-if=\"user\" class=\"my-info\">\n      <!-- 头像和个人信息区域 -->\n      <van-cell :border=\"false\" center title=\"单元格\" class=\"base-info\">\n        <van-image\n          slot=\"icon\"\n          class=\"avatar\"\n          round\n          :src=\"currentUser.photo\"\n          fit=\"cover\"\n        />\n        <div slot=\"title\" class=\"name\">{{ currentUser.name }}</div>\n        <van-button\n          size=\"small\"\n          to=\"/user/profile\"\n          class=\"right-btn\"\n          round\n          slot=\"right-icon\"\n          >编辑资料</van-button\n        >\n      </van-cell>\n      <!-- 头像下部宫格布局 -->\n      <van-grid :border=\"false\" class=\"data-info\">\n        <van-grid-item class=\"data-info-item\">\n          <div slot=\"text\">\n            <div class=\"count\">{{ currentUser.art_count }}</div>\n            <div class=\"text\">头条</div>\n          </div>\n        </van-grid-item>\n        <van-grid-item class=\"data-info-item\">\n          <div slot=\"text\">\n            <div class=\"count\">{{ currentUser.follow_count }}</div>\n            <div class=\"text\">关注</div>\n          </div>\n        </van-grid-item>\n        <van-grid-item class=\"data-info-item\">\n          <div slot=\"text\">\n            <div class=\"count\">{{ currentUser.fans_count }}</div>\n            <div class=\"text\">粉丝</div>\n          </div>\n        </van-grid-item>\n        <van-grid-item class=\"data-info-item\">\n          <div slot=\"text\">\n            <div class=\"count\">{{ currentUser.like_count }}</div>\n            <div class=\"text\">获赞</div>\n          </div>\n        </van-grid-item>\n      </van-grid>\n    </van-cell-group>\n\n    <!-- 未登录显示的页面 -->\n    <div v-else class=\"not-login\">\n      <div @click=\"$router.push('/login')\">\n        <img class=\"mobile-icon\" src=\"./images/unlogin-img.png\" />\n      </div>\n      <span class=\"not-login-text\">登录、注册</span>\n    </div>\n\n    <!-- 收藏和历史 -->\n    <van-grid :column-num=\"2\" class=\"nav-grid mb-15\">\n      <van-grid-item\n        class=\"iconfont nav-grid-item\"\n        icon-prefix=\"icon\"\n        icon=\"good\"\n        text=\"收藏\"\n        @click=\"$router.push('/usercollect')\"\n      />\n      <van-grid-item\n        class=\"iconfont nav-grid-item\"\n        icon-prefix=\"icon\"\n        icon=\"browse\"\n        text=\"历史\"\n      />\n    </van-grid>\n\n    <!-- 下方的单元格 -->\n    <van-cell title=\"消息通知\" is-link to=\"/\" />\n    <van-cell title=\"人工智障\" to=\"/userchat\" is-link class=\"mb-15\" />\n    <van-cell title=\"退出登录\" v-if=\"user\" @click=\"onLogout\" class=\"logout\" />\n  </div>\n</template>\n\n<script>\nimport { mapState } from \"vuex\";\nimport { getUserInfo } from \"@/api\";\nexport default {\n  name: \"my\",\n  data() {\n    return {\n      currentUser: {},\n    };\n  },\n  computed: {\n    ...mapState([\"user\"]),\n  },\n  mounted() {\n    this.getUserInfo();\n  },\n  methods: {\n    onLogout() {\n      this.$dialog\n        .confirm({\n          title: \"确认退出账户吗\",\n          message: \"退出后将清除当前所有用户数据\",\n        })\n        .then(() => {\n          // on confirm\n          // 清除用户状态\n          this.$store.commit(\"SETUSER\", null);\n          // 通过设置user为null 来达到清空用户数据的目的\n        })\n        .catch(() => {\n          // on cancel\n          // 取消的回调 直接return\n          return;\n        });\n    },\n    async getUserInfo() {\n      if (this.user) {\n        const { data } = await getUserInfo();\n        this.currentUser = data.data;\n      } else {\n        return;\n      }\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"less\">\n//最外层\n.my-container {\n  .my-info {\n    background: url(\"./images/banner.png\") no-repeat;\n    background-size: cover;\n\n    .base-info {\n      height: 115px;\n      box-sizing: border-box;\n      padding-top: 38px;\n      padding-bottom: 11px;\n      background-color: unset;\n\n      .avatar {\n        width: 66px;\n        height: 66px;\n        border: 1px solid white;\n        box-sizing: border-box;\n        margin-right: 11px;\n      }\n\n      .name {\n        color: #fff;\n        font-size: 15px;\n      }\n\n      .right-btn {\n        height: 16px;\n        font-size: 10px;\n        color: #666666;\n      }\n    }\n\n    .data-info {\n      .data-info-item {\n        height: 65px;\n        color: #fff;\n        text-align: center;\n\n        .count {\n          font-size: 18px;\n        }\n\n        .text {\n          font-size: 11px;\n        }\n      }\n    }\n\n    /deep/ .van-grid-item__content {\n      background-color: unset;\n    }\n  }\n\n  .not-login {\n    background: url(\"./images/banner.png\") no-repeat;\n    background-size: cover;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    height: 180px;\n\n    .mobile-icon {\n      width: 66px;\n      height: 66px;\n    }\n\n    .not-login-text {\n      margin-top: 10px;\n      color: white;\n      font-size: 14px;\n    }\n  }\n\n  /deep/ .nav-grid {\n    .nav-grid-item {\n      height: 70px;\n\n      .icon {\n        font-size: 23px;\n      }\n\n      .icon-good {\n        color: #eb5556;\n      }\n\n      .icon-browse {\n        color: #ff9d1d;\n      }\n\n      .van-grid-item__text {\n        font-size: 14px;\n        color: #333;\n      }\n    }\n  }\n\n  .mb-15 {\n    margin-bottom: 4px;\n  }\n\n  .logout {\n    text-align: center;\n    color: #d86262;\n  }\n}\n</style>"]}]}