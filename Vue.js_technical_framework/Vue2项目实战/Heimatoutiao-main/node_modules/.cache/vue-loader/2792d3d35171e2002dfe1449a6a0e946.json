{"remainingRequest":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\src\\views\\search\\components\\search-suggestion.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\src\\views\\search\\components\\search-suggestion.vue","mtime":1645498622000},{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1674635617236},{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\babel-loader\\lib\\index.js","mtime":1674635619784},{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1674635617236},{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\vue-loader\\lib\\index.js","mtime":1674635619517}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7CiAgICBnZXRTdWdnZXN0aW9uCn0gZnJvbSAnQC9hcGkvc2VhcmNoJzsKaW1wb3J0IHsKICAgIGRlYm91bmNlCn0gZnJvbSAnbG9kYXNoJwpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAnc2VhcmNoU3VnZ2VzdGlvbicsCiAgICBwcm9wczogWydzZWFyY2hUZXh0J10sCiAgICBtZXRob2RzOiB7CiAgICAgICAgaGlnaHRsaWdodChzdWdnZXN0aW9uKXsKICAgICAgICAgICAgaWYoc3VnZ2VzdGlvbil7CiAgICAgICAgICAgICAgICBjb25zdCByZWc9bmV3IFJlZ0V4cCh0aGlzLnNlYXJjaFRleHQsJ2dpJyk7CiAgICAgICAgICAgIHJldHVybiBzdWdnZXN0aW9uLnJlcGxhY2UocmVnLGA8c3BhbiBzdHlsZT0iY29sb3I6cmVkOyI+JHt0aGlzLnNlYXJjaFRleHR9PC9zcGFuPmApCiAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgcmV0dXJuIHN1Z2dlc3Rpb247CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIHNlYXJjaChzdWdnZXN0aW9uKXsKICAgICAgICAgICAgdGhpcy4kZW1pdCgnc2VhcmNoJyxzdWdnZXN0aW9uKQogICAgICAgIH0KICAgIH0sCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHNlYXJjaFN1Z2dlc3RMaXN0OiBbXQogICAgICAgIH0KICAgIH0sCiAgICB3YXRjaDogewogICAgICAgIHNlYXJjaFRleHQ6IHsKICAgICAgICAgICAgaW1tZWRpYXRlOiB0cnVlLAogICAgICAgICAgICBoYW5kbGVyOiBkZWJvdW5jZShhc3luYyBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICBjb25zdCB7CiAgICAgICAgICAgICAgICAgICAgZGF0YQogICAgICAgICAgICAgICAgfSA9IGF3YWl0IGdldFN1Z2dlc3Rpb24odGhpcy5zZWFyY2hUZXh0KTsKICAgICAgICAgICAgICAgIHRoaXMuc2VhcmNoU3VnZ2VzdExpc3QgPSBkYXRhLmRhdGEub3B0aW9uczsKICAgICAgICAgICAgfSwgMzAwKQogICAgICAgIH0KICAgIH0KfQo="},{"version":3,"sources":["search-suggestion.vue"],"names":[],"mappings":";;;;;;;;;;;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"search-suggestion.vue","sourceRoot":"src/views/search/components","sourcesContent":["<template>\n    <div class=\"searchsuggestion-container\">\n        <van-cell-group>\n            <van-cell v-for=\"suggestion,index in searchSuggestList\" :key=\"index\" icon=\"search\" @click=\"search(suggestion)\">\n                <div slot=\"title\" v-html=\"hightlight(suggestion)\"></div>\n            </van-cell>\n        </van-cell-group>\n    </div>\n</template>\n\n<script>\n    import {\n        getSuggestion\n    } from '@/api/search';\n    import {\n        debounce\n    } from 'lodash'\n    export default {\n        name: 'searchSuggestion',\n        props: ['searchText'],\n        methods: {\n            hightlight(suggestion){\n                if(suggestion){\n                    const reg=new RegExp(this.searchText,'gi');\n                return suggestion.replace(reg,`<span style=\"color:red;\">${this.searchText}</span>`)\n                }else{\n                    return suggestion;\n                }\n            },\n            search(suggestion){\n                this.$emit('search',suggestion)\n            }\n        },\n        data() {\n            return {\n                searchSuggestList: []\n            }\n        },\n        watch: {\n            searchText: {\n                immediate: true,\n                handler: debounce(async function () {\n                    const {\n                        data\n                    } = await getSuggestion(this.searchText);\n                    this.searchSuggestList = data.data.options;\n                }, 300)\n            }\n        }\n    }\n</script>\n\n<style scoped lang=\"less\">\n\n</style>"]}]}