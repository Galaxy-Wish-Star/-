{"remainingRequest":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\src\\views\\userprofile\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\src\\views\\userprofile\\index.vue","mtime":1645498622000},{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1674635617236},{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\babel-loader\\lib\\index.js","mtime":1674635619784},{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1674635617236},{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\vue-loader\\lib\\index.js","mtime":1674635619517}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGdldFVzZXJQcm9maWxlIH0gZnJvbSAiQC9hcGkvdXNlciI7CmltcG9ydCB1cGRhdGVOYW1lIGZyb20gIi4vY29tcG9uZW50cy91cGRhdGUtbmFtZS52dWUiOwppbXBvcnQgVXBkYXRlR2VuZGVyIGZyb20gIi4vY29tcG9uZW50cy91cGRhdGUtZ2VuZGVyLnZ1ZSI7CmltcG9ydCBVcGRhdGVCaXJ0aGRheSBmcm9tICIuL2NvbXBvbmVudHMvdXBkYXRlLWJpcnRoZGF5LnZ1ZSI7CmltcG9ydCBVcGRhdGVQaG90byBmcm9tICIuL2NvbXBvbmVudHMvdXBkYXRlLXBob3RvLnZ1ZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICB1cGRhdGVOYW1lLAogICAgVXBkYXRlR2VuZGVyLAogICAgVXBkYXRlQmlydGhkYXksCiAgICBVcGRhdGVQaG90bywKICB9LAogIG5hbWU6ICJ1c2VycHJvZmlsZSIsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVzZXI6IHt9LAogICAgICBpc05hbWVzaG93OiBmYWxzZSwKICAgICAgaXNHZW5kZXJzaG93OiBmYWxzZSwKICAgICAgaXNCcml0aGRheXNob3c6IGZhbHNlLAogICAgICBpc1Bob3RvU2hvdzogZmFsc2UsCiAgICAgIHBpY3R1cmVPYmplY3Q6IG51bGwsCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgYXN5bmMgbG9hZFVzZXJQcm9maWxlKCkgewogICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IGdldFVzZXJQcm9maWxlKCk7CiAgICAgIHRoaXMudXNlciA9IGRhdGEuZGF0YTsKICAgIH0sCiAgICBvbkZpbGVDaGFuZ2UoKSB7CiAgICAgIHRoaXMuaXNQaG90b1Nob3cgPSB0cnVlOwogICAgICAvLyDop6blj5HlvLnlh7rlsYIg6aKE6KeI5Zu+54mHCiAgICAgIGNvbnN0IGZpbGVPYmplY3QgPSB0aGlzLiRyZWZzLmltZ1VwbG9hZC5maWxlc1swXTsKICAgICAgdGhpcy5waWN0dXJlT2JqZWN0ID0gZmlsZU9iamVjdDsKICAgICAgdGhpcy4kcmVmcy5pbWdVcGxvYWQudmFsdWUgPSAiIjsKICAgIH0sCiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5sb2FkVXNlclByb2ZpbGUoKTsKICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgiUkVNT1ZFQ0FDSEVQQUdFIiwgImxheW91dCIpOwogIH0sCn07Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/userprofile","sourcesContent":["<template>\n  <div class=\"user-profile\">\n    <!-- 上方导航栏 -->\n    <van-nav-bar title=\"个人信息\" left-arrow @click-left=\"$router.back()\" />\n\n    <!-- 个人信息模块 -->\n    <van-cell-group>\n      <input\n        type=\"file\"\n        accept=\"image/*\"\n        @change=\"onFileChange\"\n        hidden\n        ref=\"imgUpload\"\n      />\n      <van-cell\n        title=\"头像\"\n        @click=\"$refs.imgUpload.click()\"\n        value=\"内容\"\n        is-link\n        center\n      >\n        <van-image :src=\"user.photo\" fit=\"cover\" round width=\"35\" height=\"35\" />\n      </van-cell>\n      <van-cell\n        title=\"昵称\"\n        @click=\"isNameshow = true\"\n        is-link\n        :value=\"user.name\"\n      />\n      <van-cell\n        title=\"性别\"\n        @click=\"isGendershow = true\"\n        is-link\n        :value=\"user.gender == 0 ? '男' : '女'\"\n      />\n      <van-cell\n        title=\"生日\"\n        @click=\"isBrithdayshow = true\"\n        is-link\n        :value=\"user.birthday ? user.birthday : '未设置'\"\n      />\n    </van-cell-group>\n\n    <!-- 编辑昵称 -->\n    <van-popup\n      v-model=\"isNameshow\"\n      position=\"bottom\"\n      :style=\"{ height: '100%' }\"\n    >\n      <update-name\n        v-model=\"user.name\"\n        v-if=\"isNameshow\"\n        @close=\"isNameshow = false\"\n      >\n      </update-name>\n    </van-popup>\n\n    <!-- 编辑性别 -->\n    <van-popup v-model=\"isGendershow\" position=\"bottom\">\n      <update-gender\n        v-model=\"user.gender\"\n        @close=\"isGendershow = false\"\n      ></update-gender>\n    </van-popup>\n\n    <!-- 编辑生日 -->\n    <van-popup v-model=\"isBrithdayshow\" position=\"bottom\">\n      <update-birthday\n        v-if=\"isBrithdayshow\"\n        v-model=\"user.birthday\"\n        @close=\"isBrithdayshow = false\"\n      >\n      </update-birthday>\n    </van-popup>\n\n    <!-- 修改头像 -->\n    <div class=\"headImg\">\n      <van-popup v-model=\"isPhotoShow\" style=\"height: 100%\" position=\"bottom\">\n        <update-photo\n          v-if=\"isPhotoShow\"\n          @update-photo=\"user.photo = $event\"\n          @close=\"isPhotoShow = false\"\n          :file=\"pictureObject\"\n        >\n        </update-photo>\n      </van-popup>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { getUserProfile } from \"@/api/user\";\nimport updateName from \"./components/update-name.vue\";\nimport UpdateGender from \"./components/update-gender.vue\";\nimport UpdateBirthday from \"./components/update-birthday.vue\";\nimport UpdatePhoto from \"./components/update-photo.vue\";\nexport default {\n  components: {\n    updateName,\n    UpdateGender,\n    UpdateBirthday,\n    UpdatePhoto,\n  },\n  name: \"userprofile\",\n  data() {\n    return {\n      user: {},\n      isNameshow: false,\n      isGendershow: false,\n      isBrithdayshow: false,\n      isPhotoShow: false,\n      pictureObject: null,\n    };\n  },\n  methods: {\n    async loadUserProfile() {\n      const { data } = await getUserProfile();\n      this.user = data.data;\n    },\n    onFileChange() {\n      this.isPhotoShow = true;\n      // 触发弹出层 预览图片\n      const fileObject = this.$refs.imgUpload.files[0];\n      this.pictureObject = fileObject;\n      this.$refs.imgUpload.value = \"\";\n    },\n  },\n  created() {\n    this.loadUserProfile();\n    this.$store.commit(\"REMOVECACHEPAGE\", \"layout\");\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.headImg {\n  /deep/ .van-popup {\n    background-color: rgba(0, 0, 0, 0.267);\n  }\n}\n</style>"]}]}