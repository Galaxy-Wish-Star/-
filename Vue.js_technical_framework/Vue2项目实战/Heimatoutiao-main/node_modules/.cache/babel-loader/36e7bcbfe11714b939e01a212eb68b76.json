{"remainingRequest":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\babel-loader\\lib\\index.js!D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\src\\views\\userprofile\\components\\update-name.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\src\\views\\userprofile\\components\\update-name.vue","mtime":1645498622000},{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\babel.config.js","mtime":1645498622000},{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1674635617236},{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\babel-loader\\lib\\index.js","mtime":1674635619784},{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1674635617236},{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\vue-loader\\lib\\index.js","mtime":1674635619517}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6XFxXZWJfREVWX0lOR1xcVnVlLmpzX3RlY2huaWNhbF9mcmFtZXdvcmtcXFZ1ZTJcdTk4NzlcdTc2RUVcdTVCOUVcdTYyMThcXEhlaW1hdG91dGlhby1tYWluXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZVxcaGVscGVyc1xcZXNtXFxhc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyB1cGRhdGVVc2VyUHJvZmlsZSB9IGZyb20gJ0AvYXBpL3VzZXInOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ3VwYWRhdGVOYW1lJywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbG9jYWxOYW1lOiB0aGlzLnZhbHVlCiAgICB9OwogIH0sCiAgcHJvcHM6IFsndmFsdWUnXSwKICBtZXRob2RzOiB7CiAgICBvbkNvbmZpcm06IGZ1bmN0aW9uIG9uQ29uZmlybSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDA7CgogICAgICAgICAgICAgICAgX3RoaXMuJHRvYXN0KCfkv53lrZjkuK0nKTsKCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiB1cGRhdGVVc2VyUHJvZmlsZSh7CiAgICAgICAgICAgICAgICAgIG5hbWU6IF90aGlzLmxvY2FsTmFtZQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIF90aGlzLiR0b2FzdC5zdWNjZXNzKCfkv67mlLnmiJDlip8nKTsKCiAgICAgICAgICAgICAgICBfdGhpcy4kZW1pdCgnaW5wdXQnLCBfdGhpcy5sb2NhbE5hbWUpOwoKICAgICAgICAgICAgICAgIF90aGlzLiRlbWl0KCdjbG9zZScpOwoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMjsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gOTsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMCk7CgogICAgICAgICAgICAgICAgaWYgKF9jb250ZXh0LnQwICYmIF9jb250ZXh0LnQwLnJlcG9uc2UgJiYgX2NvbnRleHQudDAucmVwb25zZS5zdGF0dXMgPT09IDQwOSkgewogICAgICAgICAgICAgICAgICBfdGhpcy4kdG9hc3QuZmFpbCgn5pi156ew6YeN5aSN77yM5L+d5a2Y5aSx6LSl77yBJyk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBfdGhpcy4kdG9hc3QoX2NvbnRleHQudDAubWVzc2FnZSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzAsIDldXSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["update-name.vue"],"names":[],"mappings":";;;;;;;;;;;;AAWA,SACA,iBADA,QAEA,YAFA;AAGA,eAAA;AACA,EAAA,IAAA,EAAA,aADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,SAAA,EAAA,KAAA;AADA,KAAA;AAGA,GANA;AAOA,EAAA,KAAA,EAAA,CAAA,OAAA,CAPA;AAQA,EAAA,OAAA,EAAA;AACA,IAAA,SADA,uBACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAGA,gBAAA,KAAA,CAAA,MAAA,CAAA,KAAA;;AAHA;AAAA,uBAIA,iBAAA,CAAA;AACA,kBAAA,IAAA,EAAA,KAAA,CAAA;AADA,iBAAA,CAJA;;AAAA;AAOA,gBAAA,KAAA,CAAA,MAAA,CAAA,OAAA,CAAA,MAAA;;AACA,gBAAA,KAAA,CAAA,KAAA,CAAA,OAAA,EAAA,KAAA,CAAA,SAAA;;AACA,gBAAA,KAAA,CAAA,KAAA,CAAA,OAAA;;AATA;AAAA;;AAAA;AAAA;AAAA;;AAWA,oBAAA,eAAA,YAAA,OAAA,IAAA,YAAA,OAAA,CAAA,MAAA,KAAA,GAAA,EAAA;AACA,kBAAA,KAAA,CAAA,MAAA,CAAA,IAAA,CAAA,YAAA;AACA,iBAFA,MAEA;AACA,kBAAA,KAAA,CAAA,MAAA,CAAA,YAAA,OAAA;AACA;;AAfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAiBA;AAlBA;AARA,CAAA","sourcesContent":["<template>\n    <div class=\"update-name\">\n        <!-- 上方导航栏 -->\n        <van-nav-bar title=\"修改昵称\" left-text=\"取消\" right-text=\"完成\" @click-left=\"$emit('close')\"\n            @click-right=\"onConfirm\" />\n        <van-field class=\"name-wrap\" v-model=\"localName\" rows=\"2\" autosize type=\"textarea\" maxlength=\"7\"\n            placeholder=\"请输入昵称\" show-word-limit />\n    </div>\n</template>\n\n<script>\n    import {\n        updateUserProfile\n    } from '@/api/user';\n    export default {\n        name: 'upadateName',\n        data() {\n            return {\n                localName: this.value\n            }\n        },\n        props: ['value'],\n        methods: {\n            async onConfirm() {\n                // 请求提交更新昵称\n                try {\n                    this.$toast('保存中');\n                    await updateUserProfile({\n                        name: this.localName\n                    })\n                    this.$toast.success('修改成功');\n                    this.$emit('input',this.localName)\n                    this.$emit('close');\n                } catch (error) {\n                    if (error && error.reponse && error.reponse.status === 409) {\n                        this.$toast.fail('昵称重复，保存失败！');\n                    } else {\n                        this.$toast(error.message);\n                    }\n                }\n            }\n        },\n    }\n</script>\n\n<style lang=\"less\" scoped>\n    .update-name {\n\n        /deep/ .van-nav-bar__content {\n            background-color: white !important;\n\n        }\n\n        /deep/ .van-nav-bar__title {\n            color: #000 !important;\n        }\n\n\n    }\n</style>"],"sourceRoot":"src/views/userprofile/components"}]}