{"remainingRequest":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\babel-loader\\lib\\index.js!D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\src\\views\\search\\components\\search-result.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\src\\views\\search\\components\\search-result.vue","mtime":1645498622000},{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\babel.config.js","mtime":1645498622000},{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1674635617236},{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\babel-loader\\lib\\index.js","mtime":1674635619784},{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1674635617236},{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\vue-loader\\lib\\index.js","mtime":1674635619517}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJEOlxcV2ViX0RFVl9JTkdcXFZ1ZS5qc190ZWNobmljYWxfZnJhbWV3b3JrXFxWdWUyXHU5ODc5XHU3NkVFXHU1QjlFXHU2MjE4XFxIZWltYXRvdXRpYW8tbWFpblxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGVzbVxcdG9Db25zdW1hYmxlQXJyYXkuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRDpcXFdlYl9ERVZfSU5HXFxWdWUuanNfdGVjaG5pY2FsX2ZyYW1ld29ya1xcVnVlMlx1OTg3OVx1NzZFRVx1NUI5RVx1NjIxOFxcSGVpbWF0b3V0aWFvLW1haW5cXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXGFzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IGdldFNlYXJjaFJlc3VsdCB9IGZyb20gJ0AvYXBpL3NlYXJjaCc7CmltcG9ydCBBcnRpY2xlSXRlbSBmcm9tICdAL2NvbXBvbmVudHMvYXJ0aWNsZS1pdGVtJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdzZWFyY2hSZXN1bHQnLAogIGNvbXBvbmVudHM6IHsKICAgIEFydGljbGVJdGVtOiBBcnRpY2xlSXRlbQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxpc3Q6IFtdLAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgZmluaXNoZWQ6IGZhbHNlLAogICAgICBwYWdlOiAxLAogICAgICBwZXJfcGFnZTogMTAKICAgIH07CiAgfSwKICBwcm9wczogWydzZWFyY2hUZXh0J10sCiAgbWV0aG9kczogewogICAgb25Mb2FkOiBmdW5jdGlvbiBvbkxvYWQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBfdGhpcyRsaXN0OwoKICAgICAgICB2YXIgX3lpZWxkJGdldFNlYXJjaFJlc3VsLCBkYXRhLCByZXN1bHRzOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBnZXRTZWFyY2hSZXN1bHQoewogICAgICAgICAgICAgICAgICBwYWdlOiBfdGhpcy5wYWdlLAogICAgICAgICAgICAgICAgICBwZXJfcGFnZTogX3RoaXMucGVyX3BhZ2UsCiAgICAgICAgICAgICAgICAgIHE6IF90aGlzLnNlYXJjaFRleHQKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfeWllbGQkZ2V0U2VhcmNoUmVzdWwgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgZGF0YSA9IF95aWVsZCRnZXRTZWFyY2hSZXN1bC5kYXRhOwogICAgICAgICAgICAgICAgcmVzdWx0cyA9IGRhdGEuZGF0YS5yZXN1bHRzOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0cyk7CgogICAgICAgICAgICAgICAgKF90aGlzJGxpc3QgPSBfdGhpcy5saXN0KS5wdXNoLmFwcGx5KF90aGlzJGxpc3QsIF90b0NvbnN1bWFibGVBcnJheShyZXN1bHRzKSk7IC8vIOWKoOi9veeKtuaAgee7k+adnwoKCiAgICAgICAgICAgICAgICBfdGhpcy5sb2FkaW5nID0gZmFsc2U7IC8vIOaVsOaNruWFqOmDqOWKoOi9veWujOaIkAoKICAgICAgICAgICAgICAgIGlmIChyZXN1bHRzLmxlbmd0aCkgewogICAgICAgICAgICAgICAgICBfdGhpcy5wYWdlKys7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBfdGhpcy5maW5pc2hlZCA9IHRydWU7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["search-result.vue"],"names":[],"mappings":";;;;;;;;;;;AASA,SACA,eADA,QAEA,cAFA;AAGA,OAAA,WAAA,MAAA,2BAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,cADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,WAAA,EAAA;AADA,GAFA;AAKA,EAAA,IALA,kBAKA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,EADA;AAEA,MAAA,OAAA,EAAA,KAFA;AAGA,MAAA,QAAA,EAAA,KAHA;AAIA,MAAA,IAAA,EAAA,CAJA;AAKA,MAAA,QAAA,EAAA;AALA,KAAA;AAOA,GAbA;AAcA,EAAA,KAAA,EAAA,CAAA,YAAA,CAdA;AAeA,EAAA,OAAA,EAAA;AACA,IAAA,MADA,oBACA;AAAA;;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAIA,eAAA,CAAA;AACA,kBAAA,IAAA,EAAA,KAAA,CAAA,IADA;AAEA,kBAAA,QAAA,EAAA,KAAA,CAAA,QAFA;AAGA,kBAAA,CAAA,EAAA,KAAA,CAAA;AAHA,iBAAA,CAJA;;AAAA;AAAA;AAGA,gBAAA,IAHA,yBAGA,IAHA;AASA,gBAAA,OATA,GASA,IAAA,CAAA,IATA,CASA,OATA;AAUA,gBAAA,OAAA,CAAA,GAAA,CAAA,OAAA;;AACA,8BAAA,KAAA,CAAA,IAAA,EAAA,IAAA,sCAAA,OAAA,GAXA,CAaA;;;AACA,gBAAA,KAAA,CAAA,OAAA,GAAA,KAAA,CAdA,CAgBA;;AACA,oBAAA,OAAA,CAAA,MAAA,EAAA;AACA,kBAAA,KAAA,CAAA,IAAA;AACA,iBAFA,MAEA;AACA,kBAAA,KAAA,CAAA,QAAA,GAAA,IAAA;AACA;;AArBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAsBA;AAvBA;AAfA,CAAA","sourcesContent":["<template>\n    <div class=\"search-result\">\n        <van-list v-model=\"loading\" :finished=\"finished\" finished-text=\"没有更多了\" @load=\"onLoad\">\n            <article-item v-for=\"(article,index) in list\" :key=\"index\" :article=\"article\" />\n        </van-list>\n    </div>\n</template>\n\n<script>\n    import {\n        getSearchResult\n    } from '@/api/search';\n    import ArticleItem from '@/components/article-item';\n    export default {\n        name: 'searchResult',\n        components:{\n            ArticleItem\n        },\n        data() {\n            return {\n                list: [],\n                loading: false,\n                finished: false,\n                page: 1,\n                per_page: 10,\n            }\n        },\n        props: ['searchText'],\n        methods: {\n            async onLoad() {\n                // 异步更新数据\n                const {\n                    data\n                } = await getSearchResult({\n                    page: this.page,\n                    per_page: this.per_page,\n                    q: this.searchText\n                })\n                const {results} = data.data;\n                console.log(results);\n                this.list.push(...results);\n\n                // 加载状态结束\n                this.loading = false;\n\n                // 数据全部加载完成\n                if(results.length){\n                    this.page++\n                }else{\n                    this.finished=true;\n                }\n            },\n        }\n    }\n</script>\n\n<style scoped lang=\"less\">\n    .search-result {\n        position: fixed;\n        right: 0;\n        left: 0;\n        bottom: 0;\n        top: 54px;\n        overflow-y: auto;\n    }\n</style>"],"sourceRoot":"src/views/search/components"}]}