{"remainingRequest":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\babel-loader\\lib\\index.js!D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\src\\views\\usercollect\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\src\\views\\usercollect\\index.vue","mtime":1645498622000},{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\babel.config.js","mtime":1645498622000},{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1674635617236},{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\babel-loader\\lib\\index.js","mtime":1674635619784},{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1674635617236},{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\vue-loader\\lib\\index.js","mtime":1674635619517}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJEOlxcV2ViX0RFVl9JTkdcXFZ1ZS5qc190ZWNobmljYWxfZnJhbWV3b3JrXFxWdWUyXHU5ODc5XHU3NkVFXHU1QjlFXHU2MjE4XFxIZWltYXRvdXRpYW8tbWFpblxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGVzbVxcdG9Db25zdW1hYmxlQXJyYXkuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRDpcXFdlYl9ERVZfSU5HXFxWdWUuanNfdGVjaG5pY2FsX2ZyYW1ld29ya1xcVnVlMlx1OTg3OVx1NzZFRVx1NUI5RVx1NjIxOFxcSGVpbWF0b3V0aWFvLW1haW5cXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXGFzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgQXJ0aWNsZUl0ZW0gZnJvbSAiQC9jb21wb25lbnRzL2FydGljbGUtaXRlbSI7CmltcG9ydCB7IGdldFVzZXJDb2xsZWN0LCBkZWxldGVDb2xsZWN0IH0gZnJvbSAiQC9hcGkvYXJ0aWNsZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAidXNlcmNvbGxlY3QiLAogIGNvbXBvbmVudHM6IHsKICAgIEFydGljbGVJdGVtOiBBcnRpY2xlSXRlbQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNvbGxlY3RMaXN0OiBbXSwKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIGZpbmlzaGVkOiBmYWxzZSwKICAgICAgcGFnZTogMSwKICAgICAgcGVyX3BhZ2U6IDEwCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgb25Mb2FkOiBmdW5jdGlvbiBvbkxvYWQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBfeWllbGQkZ2V0VXNlckNvbGxlY3QsIGRhdGE7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIGdldFVzZXJDb2xsZWN0KHsKICAgICAgICAgICAgICAgICAgcGFnZTogX3RoaXMucGFnZSwKICAgICAgICAgICAgICAgICAgcGVyX3BhZ2U6IF90aGlzLnBlcl9wYWdlCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgX3lpZWxkJGdldFVzZXJDb2xsZWN0ID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIGRhdGEgPSBfeWllbGQkZ2V0VXNlckNvbGxlY3QuZGF0YTsKICAgICAgICAgICAgICAgIF90aGlzLmNvbGxlY3RMaXN0ID0gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShfdGhpcy5jb2xsZWN0TGlzdCksIF90b0NvbnN1bWFibGVBcnJheShkYXRhLmRhdGEucmVzdWx0cykpOwogICAgICAgICAgICAgICAgX3RoaXMucGFnZSsrOwogICAgICAgICAgICAgICAgX3RoaXMubG9hZGluZyA9IGZhbHNlOwoKICAgICAgICAgICAgICAgIGlmIChkYXRhLmRhdGEucmVzdWx0cy5sZW5ndGggPT0gMCkgewogICAgICAgICAgICAgICAgICBfdGhpcy5maW5pc2hlZCA9IHRydWU7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBiZWZvcmVDbG9zZTogZnVuY3Rpb24gYmVmb3JlQ2xvc2UoX3JlZikgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBuYW1lLCBwb3NpdGlvbiwgaW5zdGFuY2U7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5hbWUgPSBfcmVmLm5hbWUsIHBvc2l0aW9uID0gX3JlZi5wb3NpdGlvbiwgaW5zdGFuY2UgPSBfcmVmLmluc3RhbmNlOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLnQwID0gcG9zaXRpb247CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IF9jb250ZXh0Mi50MCA9PT0gImxlZnQiID8gNCA6IF9jb250ZXh0Mi50MCA9PT0gImNlbGwiID8gNCA6IF9jb250ZXh0Mi50MCA9PT0gIm91dHNpZGUiID8gNCA6IF9jb250ZXh0Mi50MCA9PT0gInJpZ2h0IiA/IDYgOiAxMTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICBpbnN0YW5jZS5jbG9zZSgpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoImJyZWFrIiwgMTEpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDg7CiAgICAgICAgICAgICAgICByZXR1cm4gZGVsZXRlQ29sbGVjdChfdGhpczIuY29sbGVjdExpc3RbbmFtZV0uYXJ0X2lkKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgX3RoaXMyLmNvbGxlY3RMaXN0LnNwbGljZShuYW1lLCAxKTsKCiAgICAgICAgICAgICAgICBpbnN0YW5jZS5jbG9zZSgpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoImJyZWFrIiwgMTEpOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyBA,OAAA,WAAA,MAAA,2BAAA;AACA,SAAA,cAAA,EAAA,aAAA,QAAA,eAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,aADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,WAAA,EAAA;AADA,GAFA;AAKA,EAAA,IALA,kBAKA;AACA,WAAA;AACA,MAAA,WAAA,EAAA,EADA;AAEA,MAAA,OAAA,EAAA,KAFA;AAGA,MAAA,QAAA,EAAA,KAHA;AAIA,MAAA,IAAA,EAAA,CAJA;AAKA,MAAA,QAAA,EAAA;AALA,KAAA;AAOA,GAbA;AAcA,EAAA,OAAA,EAAA;AACA,IAAA,MADA,oBACA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,cAAA,CAAA;AACA,kBAAA,IAAA,EAAA,KAAA,CAAA,IADA;AAEA,kBAAA,QAAA,EAAA,KAAA,CAAA;AAFA,iBAAA,CADA;;AAAA;AAAA;AACA,gBAAA,IADA,yBACA,IADA;AAKA,gBAAA,KAAA,CAAA,WAAA,gCAAA,KAAA,CAAA,WAAA,sBAAA,IAAA,CAAA,IAAA,CAAA,OAAA;AACA,gBAAA,KAAA,CAAA,IAAA;AACA,gBAAA,KAAA,CAAA,OAAA,GAAA,KAAA;;AACA,oBAAA,IAAA,CAAA,IAAA,CAAA,OAAA,CAAA,MAAA,IAAA,CAAA,EAAA;AACA,kBAAA,KAAA,CAAA,QAAA,GAAA,IAAA;AACA;;AAVA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA,KAZA;AAaA,IAAA,WAbA,6BAaA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAA,IAAA,QAAA,IAAA,EAAA,QAAA,QAAA,QAAA,EAAA,QAAA,QAAA,QAAA;AAAA,+BACA,QADA;AAAA,kDAEA,MAFA,wBAGA,MAHA,wBAIA,SAJA,wBAOA,OAPA;AAAA;;AAAA;AAKA,gBAAA,QAAA,CAAA,KAAA;AALA;;AAAA;AAAA;AAAA,uBAQA,aAAA,CAAA,MAAA,CAAA,WAAA,CAAA,IAAA,EAAA,MAAA,CARA;;AAAA;AASA,gBAAA,MAAA,CAAA,WAAA,CAAA,MAAA,CAAA,IAAA,EAAA,CAAA;;AACA,gBAAA,QAAA,CAAA,KAAA;AAVA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAaA;AA1BA;AAdA,CAAA","sourcesContent":["<template>\n  <div class=\"usercollect\">\n    <van-nav-bar title=\"收藏\" left-arrow @click-left=\"$router.back()\" />\n    <!-- 渲染组件块 -->\n    <van-list\n      v-model=\"loading\"\n      :finished=\"finished\"\n      finished-text=\"没有更多了\"\n      @load=\"onLoad\"\n    >\n      <!-- 单元格结构 -->\n      <div v-for=\"(item, index) in collectList\" :key=\"index\">\n        <van-swipe-cell :before-close=\"beforeClose\" :name=\"index\">\n          <article-item :article=\"item\" />\n          <template #right>\n            <van-button class=\"button\" square type=\"danger\" text=\"移除\" />\n          </template>\n        </van-swipe-cell>\n      </div>\n    </van-list>\n    <div class=\"tips\">左滑可以调出删除按钮哦~</div>\n  </div>\n</template>\n\n<script>\nimport ArticleItem from \"@/components/article-item\";\nimport { getUserCollect, deleteCollect } from \"@/api/article\";\nexport default {\n  name: \"usercollect\",\n  components: {\n    ArticleItem,\n  },\n  data() {\n    return {\n      collectList: [],\n      loading: false,\n      finished: false,\n      page: 1,\n      per_page: 10,\n    };\n  },\n  methods: {\n    async onLoad() {\n      const { data } = await getUserCollect({\n        page: this.page,\n        per_page: this.per_page,\n      });\n      this.collectList = [...this.collectList, ...data.data.results];\n      this.page++;\n      this.loading = false;\n      if (data.data.results.length == 0) {\n        this.finished = true;\n      }\n    },\n    async beforeClose({ name, position, instance }) {\n      switch (position) {\n        case \"left\":\n        case \"cell\":\n        case \"outside\":\n          instance.close();\n          break;\n        case \"right\":\n          await deleteCollect(this.collectList[name].art_id);\n          this.collectList.splice(name, 1);\n          instance.close();\n          break;\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n@keyframes opt {\n  0% {\n    opacity: 0;\n    transform: scaleX(0) scaleY(0);\n  }\n\n  50% {\n    opacity: 1;\n    transform: scaleX(100%) scaleY(100%);\n  }\n\n  100% {\n    opacity: 0;\n    transform: scaleX(0) scaleY(0);\n  }\n}\n\n.button {\n  height: 100%;\n}\n\n.tips {\n  width: 150px;\n  height: 30px;\n  font-size: 10px;\n  line-height: 30px;\n  text-align: center;\n  background-color: rgb(248, 45, 96);\n  box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.3);\n  border-radius: 10px;\n  color: rgb(255, 255, 255);\n  position: fixed;\n  bottom: 20%;\n  opacity: 0;\n  animation: opt 4s ease forwards;\n  animation-delay: 1s;\n  left: 0;\n  right: 0;\n  margin: 0 auto;\n}\n</style>"],"sourceRoot":"src/views/usercollect"}]}