{"remainingRequest":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\babel-loader\\lib\\index.js!D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\src\\views\\home\\components\\channel-edit.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\src\\views\\home\\components\\channel-edit.vue","mtime":1645498622000},{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\babel.config.js","mtime":1645498622000},{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1674635617236},{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\babel-loader\\lib\\index.js","mtime":1674635619784},{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1674635617236},{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\vue-loader\\lib\\index.js","mtime":1674635619517}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDpcXFdlYl9ERVZfSU5HXFxWdWUuanNfdGVjaG5pY2FsX2ZyYW1ld29ya1xcVnVlMlx1OTg3OVx1NzZFRVx1NUI5RVx1NjIxOFxcSGVpbWF0b3V0aWFvLW1haW5cXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXG9iamVjdFNwcmVhZDIuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRDpcXFdlYl9ERVZfSU5HXFxWdWUuanNfdGVjaG5pY2FsX2ZyYW1ld29ya1xcVnVlMlx1OTg3OVx1NzZFRVx1NUI5RVx1NjIxOFxcSGVpbWF0b3V0aWFvLW1haW5cXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXGFzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3Rvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgZ2V0QWxsQ2hhbm5lbHMsIGFkZFVzZXJDaGFubmVscywgZGVsZXRlVXNlckNoYW5uZWxzIH0gZnJvbSAnQC9hcGknOwppbXBvcnQgeyBtYXBTdGF0ZSB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgeyBzZXRJdGVtLCBnZXRJdGVtIH0gZnJvbSAnQC91dGlscy9zdG9yYWdlJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdDaGFubmVsZWRpdCcsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGFsbENoYW5ubmVsczogW10sCiAgICAgIGlzRWRpdDogZmFsc2UKICAgIH07CiAgfSwKICBwcm9wczogewogICAgY2hhbm5lbHM6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgYWN0aXZlOiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGxvYWRBbGxDaGFubmVsczogZnVuY3Rpb24gbG9hZEFsbENoYW5uZWxzKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgX3lpZWxkJGdldEFsbENoYW5uZWxzLCBkYXRhOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBnZXRBbGxDaGFubmVscygpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfeWllbGQkZ2V0QWxsQ2hhbm5lbHMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgZGF0YSA9IF95aWVsZCRnZXRBbGxDaGFubmVscy5kYXRhOwogICAgICAgICAgICAgICAgX3RoaXMuYWxsQ2hhbm5uZWxzID0gZGF0YS5kYXRhLmNoYW5uZWxzOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g5re75Yqg6aKR6YGTIOaMgeS5heWMlu+8muWmguaenOeZu+W9leS6hu+8jOWImeWtmOWCqOWIsOe6v+S4iu+8jOWmguaenOacqueZu+W9lSDlrZjlgqjliLDmnKzlnLAKICAgIG9uQWRkOiBmdW5jdGlvbiBvbkFkZChjaGFubmVsKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzMi5jaGFubmVscy5wdXNoKGNoYW5uZWwpOyAvLyDlpoLmnpznmbvlvZXkuobvvJrmt7vliqDliLDnur/kuIoKCgogICAgICAgICAgICAgICAgaWYgKCFfdGhpczIudXNlcikgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDY7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBhZGRVc2VyQ2hhbm5lbHMoewogICAgICAgICAgICAgICAgICBjaGFubmVsczogW3sKICAgICAgICAgICAgICAgICAgICBpZDogY2hhbm5lbC5pZCwKICAgICAgICAgICAgICAgICAgICBzZXE6IF90aGlzMi5jaGFubmVscy5sZW5ndGgKICAgICAgICAgICAgICAgICAgfV0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDc7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgc2V0SXRlbSgndXNlci1jaGFubmVscycsIF90aGlzMi5jaGFubmVscyk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOWIoOmZpOaIluiAheWIh+aNogogICAgb25Vc2VyQ2hhbm5lbENsaWNrOiBmdW5jdGlvbiBvblVzZXJDaGFubmVsQ2xpY2soaW5kZXgsIGNoYW5uZWwpIHsKICAgICAgaWYgKHRoaXMuaXNFZGl0ICYmIGluZGV4ICE9PSAwKSB7CiAgICAgICAgLy8g5Yig6Zmk5pON5L2cCiAgICAgICAgdGhpcy5kZWxldGVDaGFubmVsKGluZGV4LCBjaGFubmVsKTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyDliIfmjaLmk43kvZwKICAgICAgICB0aGlzLnN3aXRjaENoYW5uZWwoaW5kZXgpOwogICAgICB9CiAgICB9LAogICAgZGVsZXRlQ2hhbm5lbDogZnVuY3Rpb24gZGVsZXRlQ2hhbm5lbChpbmRleCwgY2hhbm5lbCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAvLyDlpoLmnpzliKDpmaTnmoTmmK/lvZPliY3popHpgZPkuYvliY3nmoTpopHpgZMKICAgICAgICAgICAgICAgIGlmIChpbmRleCA8PSBfdGhpczMuYWN0aXZlKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMy4kZW1pdCgndXBkYXRlLWFjdGl2ZScsIF90aGlzMy5hY3RpdmUgLSAxKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpczMuY2hhbm5lbHMuc3BsaWNlKGluZGV4LCAxKTsgLy8g5pWw5o2u5oyB5LmF5YyWCgoKICAgICAgICAgICAgICAgIGlmICghX3RoaXMzLnVzZXIpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA3OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gZGVsZXRlVXNlckNoYW5uZWxzKGNoYW5uZWwuaWQpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDg7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgc2V0SXRlbSgndXNlci1jaGFubmVscycsIF90aGlzMy5jaGFubmVscyk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHN3aXRjaENoYW5uZWw6IGZ1bmN0aW9uIHN3aXRjaENoYW5uZWwoaW5kZXgpIHsKICAgICAgLy8g5YiH5o2i6aKR6YGTCiAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZS1hY3RpdmUnLCBpbmRleCk7IC8vIOmAmuefpeeItue7hOS7tiDlhbPpl63lvLnlh7rlsYIKCiAgICAgIHRoaXMuJGVtaXQoJ2Nsb3NlJyk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5sb2FkQWxsQ2hhbm5lbHMoKTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcFN0YXRlKFsndXNlciddKSksIHt9LCB7CiAgICByZWNvbW1hbmRDaGFubmVsczogZnVuY3Rpb24gcmVjb21tYW5kQ2hhbm5lbHMoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgLy8g5o6o6I2Q6aKR6YGTIOaJgOaciemikemBk+WHj+WOu+aIkeeahOmikemBkwogICAgICByZXR1cm4gdGhpcy5hbGxDaGFubm5lbHMuZmlsdGVyKGZ1bmN0aW9uIChjaGFubmVsKSB7CiAgICAgICAgcmV0dXJuICFfdGhpczQuY2hhbm5lbHMuZmluZChmdW5jdGlvbiAodXNlckNoYW5uZWwpIHsKICAgICAgICAgIHJldHVybiB1c2VyQ2hhbm5lbC5pZCA9PT0gY2hhbm5lbC5pZDsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfSkKfTs="},{"version":3,"sources":["channel-edit.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"channel-edit\">\n        <van-cell :border=\"false\">\n            <div class=\"title\" slot=\"title\">我的频道</div>\n            <van-button type=\"danger\" class=\"edit-btn\" @click=\"isEdit=!isEdit\" round size=\"mini\" plain>\n                {{isEdit?'完成':'编辑'}}\n            </van-button>\n        </van-cell>\n        <van-grid :gutter=\"10\">\n            <van-grid-item class=\"grid-item\" :class=\"{ active: index===active}\" v-for=\"channel,index in channels\"\n                :key=\"channel.id\" :icon=\"(isEdit&&index!==0)?'clear':''\" @click=\"onUserChannelClick(index,channel)\"\n                :text=\"channel.name\" />\n        </van-grid>\n\n        <van-cell :border=\"false\">\n            <div class=\"title\" slot=\"title\">频道推荐</div>\n\n        </van-cell>\n        <van-grid :gutter=\"10\">\n            <van-grid-item class=\"grid-item\" @click=\"onAdd(channel)\" v-for=\"channel in recommandChannels\"\n                :key=\"channel.id\" :text=\"channel.name\" />\n        </van-grid>\n    </div>\n</template>\n\n<script>\n    import {\n        getAllChannels,\n        addUserChannels,\n        deleteUserChannels\n    } from '@/api';\n    import {\n        mapState\n    } from 'vuex'\n    import {\n        setItem,\n        getItem\n    } from '@/utils/storage'\n    export default {\n        name: 'Channeledit',\n        data() {\n            return {\n                allChannnels: [],\n                isEdit: false\n            }\n        },\n        props: {\n            channels: {\n                type: Array,\n                required: true\n            },\n            active: {\n                type: Number,\n                required: true\n            }\n        },\n        methods: {\n            async loadAllChannels() {\n                const {data} = await getAllChannels();\n                this.allChannnels = data.data.channels;\n            },\n            // 添加频道 持久化：如果登录了，则存储到线上，如果未登录 存储到本地\n            async onAdd(channel) {\n                this.channels.push(channel);\n                // 如果登录了：添加到线上\n                if (this.user) {\n                    await addUserChannels({\n                        channels: [{\n                            id: channel.id,\n                            seq: this.channels.length\n                        }]\n                    })\n                } else {\n                    setItem('user-channels', this.channels);\n                }\n            },\n            // 删除或者切换\n            onUserChannelClick(index,channel) {\n                if (this.isEdit && index !== 0) {\n                    // 删除操作\n                    this.deleteChannel(index,channel);\n                    \n                } else {\n                    // 切换操作\n                    this.switchChannel(index);\n                }\n            },\n            async deleteChannel(index,channel) {\n                // 如果删除的是当前频道之前的频道\n                if (index <= this.active) {\n                    this.$emit('update-active', this.active - 1);\n                }\n                this.channels.splice(index, 1);\n                // 数据持久化\n                if(this.user){\n                    await deleteUserChannels(channel.id)\n                }else{\n                    setItem('user-channels', this.channels);\n                }\n            },\n            switchChannel(index) {\n                // 切换频道\n                this.$emit('update-active', index);\n                // 通知父组件 关闭弹出层\n\n                this.$emit('close');\n            }\n        },\n        mounted() {\n\n            this.loadAllChannels();\n        },\n        computed: {\n            ...mapState(['user']),\n            recommandChannels() {\n                // 推荐频道 所有频道减去我的频道\n                return this.allChannnels.filter(channel => {\n                    return !this.channels.find(userChannel => {\n                        return userChannel.id === channel.id\n                    })\n                })\n            }\n        }\n    }\n</script>\n\n<style scoped lang=\"less\">\n    // 选中的类名\n    .active {\n        /deep/ .van-grid-item__content {\n\n            background-color: #3296fa !important;\n\n            .van-grid-item__text {\n                color: rgb(255, 255, 255) !important;\n            }\n        }\n    }\n\n    .channel-edit {\n        padding-top: 54px;\n\n        .edit-btn {\n            width: 60px;\n        }\n\n        .title {\n            font-size: 16px;\n            color: #333;\n        }\n\n        .grid-item {\n            width: 80px;\n            height: 43px;\n            text-align: center;\n\n            /deep/ .van-grid-item__content {\n                background-color: #f4f5f6;\n\n                .van-grid-item__text {\n                    font-size: 14px;\n                    color: #222;\n                    margin-top: 0;\n                }\n            }\n\n            /deep/ .van-grid-item__content {\n                position: relative;\n\n                .van-icon {\n                    z-index: 2;\n                    right: -6px;\n                    top: -6px;\n                    font-size: 18px;\n                    color: rgb(92, 92, 92);\n                    position: absolute;\n                }\n            }\n        }\n    }\n</style>"],"sourceRoot":"src/views/home/components"}]}