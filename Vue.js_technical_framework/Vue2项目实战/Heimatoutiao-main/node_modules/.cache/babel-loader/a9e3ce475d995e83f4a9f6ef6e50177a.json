{"remainingRequest":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\babel-loader\\lib\\index.js!D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\src\\views\\my\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\src\\views\\my\\index.vue","mtime":1645498622000},{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\babel.config.js","mtime":1645498622000},{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1674635617236},{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\babel-loader\\lib\\index.js","mtime":1674635619784},{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1674635617236},{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\vue-loader\\lib\\index.js","mtime":1674635619517}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6XFxXZWJfREVWX0lOR1xcVnVlLmpzX3RlY2huaWNhbF9mcmFtZXdvcmtcXFZ1ZTJcdTk4NzlcdTc2RUVcdTVCOUVcdTYyMThcXEhlaW1hdG91dGlhby1tYWluXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZVxcaGVscGVyc1xcZXNtXFxhc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDpcXFdlYl9ERVZfSU5HXFxWdWUuanNfdGVjaG5pY2FsX2ZyYW1ld29ya1xcVnVlMlx1OTg3OVx1NzZFRVx1NUI5RVx1NjIxOFxcSGVpbWF0b3V0aWFvLW1haW5cXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXG9iamVjdFNwcmVhZDIuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAidnVleCI7CmltcG9ydCB7IGdldFVzZXJJbmZvIGFzIF9nZXRVc2VySW5mbyB9IGZyb20gIkAvYXBpIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJteSIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGN1cnJlbnRVc2VyOiB7fQogICAgfTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBTdGF0ZShbInVzZXIiXSkpLAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldFVzZXJJbmZvKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBvbkxvZ291dDogZnVuY3Rpb24gb25Mb2dvdXQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLiRkaWFsb2cuY29uZmlybSh7CiAgICAgICAgdGl0bGU6ICLnoa7orqTpgIDlh7rotKbmiLflkJciLAogICAgICAgIG1lc3NhZ2U6ICLpgIDlh7rlkI7lsIbmuIXpmaTlvZPliY3miYDmnInnlKjmiLfmlbDmja4iCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIC8vIG9uIGNvbmZpcm0KICAgICAgICAvLyDmuIXpmaTnlKjmiLfnirbmgIEKICAgICAgICBfdGhpcy4kc3RvcmUuY29tbWl0KCJTRVRVU0VSIiwgbnVsbCk7IC8vIOmAmui/h+iuvue9rnVzZXLkuLpudWxsIOadpei+vuWIsOa4heepuueUqOaIt+aVsOaNrueahOebrueahAoKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgIC8vIG9uIGNhbmNlbAogICAgICAgIC8vIOWPlua2iOeahOWbnuiwgyDnm7TmjqVyZXR1cm4KICAgICAgICByZXR1cm47CiAgICAgIH0pOwogICAgfSwKICAgIGdldFVzZXJJbmZvOiBmdW5jdGlvbiBnZXRVc2VySW5mbygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBfeWllbGQkX2dldFVzZXJJbmZvLCBkYXRhOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoIV90aGlzMi51c2VyKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBfZ2V0VXNlckluZm8oKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgX3lpZWxkJF9nZXRVc2VySW5mbyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBkYXRhID0gX3lpZWxkJF9nZXRVc2VySW5mby5kYXRhOwogICAgICAgICAgICAgICAgX3RoaXMyLmN1cnJlbnRVc2VyID0gZGF0YS5kYXRhOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDk7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqFA,SAAA,QAAA,QAAA,MAAA;AACA,SAAA,WAAA,IAAA,YAAA,QAAA,OAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,IADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,WAAA,EAAA;AADA,KAAA;AAGA,GANA;AAOA,EAAA,QAAA,oBACA,QAAA,CAAA,CAAA,MAAA,CAAA,CADA,CAPA;AAUA,EAAA,OAVA,qBAUA;AACA,SAAA,WAAA;AACA,GAZA;AAaA,EAAA,OAAA,EAAA;AACA,IAAA,QADA,sBACA;AAAA;;AACA,WAAA,OAAA,CACA,OADA,CACA;AACA,QAAA,KAAA,EAAA,SADA;AAEA,QAAA,OAAA,EAAA;AAFA,OADA,EAKA,IALA,CAKA,YAAA;AACA;AACA;AACA,QAAA,KAAA,CAAA,MAAA,CAAA,MAAA,CAAA,SAAA,EAAA,IAAA,EAHA,CAIA;;AACA,OAVA,EAWA,KAXA,CAWA,YAAA;AACA;AACA;AACA;AACA,OAfA;AAgBA,KAlBA;AAmBA,IAAA,WAnBA,yBAmBA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,qBACA,MAAA,CAAA,IADA;AAAA;AAAA;AAAA;;AAAA;AAAA,uBAEA,YAAA,EAFA;;AAAA;AAAA;AAEA,gBAAA,IAFA,uBAEA,IAFA;AAGA,gBAAA,MAAA,CAAA,WAAA,GAAA,IAAA,CAAA,IAAA;AAHA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AA1BA;AAbA,CAAA","sourcesContent":["<template>\n  <div class=\"my-container\">\n    <!-- 头像容器 -->\n    <van-cell-group v-if=\"user\" class=\"my-info\">\n      <!-- 头像和个人信息区域 -->\n      <van-cell :border=\"false\" center title=\"单元格\" class=\"base-info\">\n        <van-image\n          slot=\"icon\"\n          class=\"avatar\"\n          round\n          :src=\"currentUser.photo\"\n          fit=\"cover\"\n        />\n        <div slot=\"title\" class=\"name\">{{ currentUser.name }}</div>\n        <van-button\n          size=\"small\"\n          to=\"/user/profile\"\n          class=\"right-btn\"\n          round\n          slot=\"right-icon\"\n          >编辑资料</van-button\n        >\n      </van-cell>\n      <!-- 头像下部宫格布局 -->\n      <van-grid :border=\"false\" class=\"data-info\">\n        <van-grid-item class=\"data-info-item\">\n          <div slot=\"text\">\n            <div class=\"count\">{{ currentUser.art_count }}</div>\n            <div class=\"text\">头条</div>\n          </div>\n        </van-grid-item>\n        <van-grid-item class=\"data-info-item\">\n          <div slot=\"text\">\n            <div class=\"count\">{{ currentUser.follow_count }}</div>\n            <div class=\"text\">关注</div>\n          </div>\n        </van-grid-item>\n        <van-grid-item class=\"data-info-item\">\n          <div slot=\"text\">\n            <div class=\"count\">{{ currentUser.fans_count }}</div>\n            <div class=\"text\">粉丝</div>\n          </div>\n        </van-grid-item>\n        <van-grid-item class=\"data-info-item\">\n          <div slot=\"text\">\n            <div class=\"count\">{{ currentUser.like_count }}</div>\n            <div class=\"text\">获赞</div>\n          </div>\n        </van-grid-item>\n      </van-grid>\n    </van-cell-group>\n\n    <!-- 未登录显示的页面 -->\n    <div v-else class=\"not-login\">\n      <div @click=\"$router.push('/login')\">\n        <img class=\"mobile-icon\" src=\"./images/unlogin-img.png\" />\n      </div>\n      <span class=\"not-login-text\">登录、注册</span>\n    </div>\n\n    <!-- 收藏和历史 -->\n    <van-grid :column-num=\"2\" class=\"nav-grid mb-15\">\n      <van-grid-item\n        class=\"iconfont nav-grid-item\"\n        icon-prefix=\"icon\"\n        icon=\"good\"\n        text=\"收藏\"\n        @click=\"$router.push('/usercollect')\"\n      />\n      <van-grid-item\n        class=\"iconfont nav-grid-item\"\n        icon-prefix=\"icon\"\n        icon=\"browse\"\n        text=\"历史\"\n      />\n    </van-grid>\n\n    <!-- 下方的单元格 -->\n    <van-cell title=\"消息通知\" is-link to=\"/\" />\n    <van-cell title=\"人工智障\" to=\"/userchat\" is-link class=\"mb-15\" />\n    <van-cell title=\"退出登录\" v-if=\"user\" @click=\"onLogout\" class=\"logout\" />\n  </div>\n</template>\n\n<script>\nimport { mapState } from \"vuex\";\nimport { getUserInfo } from \"@/api\";\nexport default {\n  name: \"my\",\n  data() {\n    return {\n      currentUser: {},\n    };\n  },\n  computed: {\n    ...mapState([\"user\"]),\n  },\n  mounted() {\n    this.getUserInfo();\n  },\n  methods: {\n    onLogout() {\n      this.$dialog\n        .confirm({\n          title: \"确认退出账户吗\",\n          message: \"退出后将清除当前所有用户数据\",\n        })\n        .then(() => {\n          // on confirm\n          // 清除用户状态\n          this.$store.commit(\"SETUSER\", null);\n          // 通过设置user为null 来达到清空用户数据的目的\n        })\n        .catch(() => {\n          // on cancel\n          // 取消的回调 直接return\n          return;\n        });\n    },\n    async getUserInfo() {\n      if (this.user) {\n        const { data } = await getUserInfo();\n        this.currentUser = data.data;\n      } else {\n        return;\n      }\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"less\">\n//最外层\n.my-container {\n  .my-info {\n    background: url(\"./images/banner.png\") no-repeat;\n    background-size: cover;\n\n    .base-info {\n      height: 115px;\n      box-sizing: border-box;\n      padding-top: 38px;\n      padding-bottom: 11px;\n      background-color: unset;\n\n      .avatar {\n        width: 66px;\n        height: 66px;\n        border: 1px solid white;\n        box-sizing: border-box;\n        margin-right: 11px;\n      }\n\n      .name {\n        color: #fff;\n        font-size: 15px;\n      }\n\n      .right-btn {\n        height: 16px;\n        font-size: 10px;\n        color: #666666;\n      }\n    }\n\n    .data-info {\n      .data-info-item {\n        height: 65px;\n        color: #fff;\n        text-align: center;\n\n        .count {\n          font-size: 18px;\n        }\n\n        .text {\n          font-size: 11px;\n        }\n      }\n    }\n\n    /deep/ .van-grid-item__content {\n      background-color: unset;\n    }\n  }\n\n  .not-login {\n    background: url(\"./images/banner.png\") no-repeat;\n    background-size: cover;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    height: 180px;\n\n    .mobile-icon {\n      width: 66px;\n      height: 66px;\n    }\n\n    .not-login-text {\n      margin-top: 10px;\n      color: white;\n      font-size: 14px;\n    }\n  }\n\n  /deep/ .nav-grid {\n    .nav-grid-item {\n      height: 70px;\n\n      .icon {\n        font-size: 23px;\n      }\n\n      .icon-good {\n        color: #eb5556;\n      }\n\n      .icon-browse {\n        color: #ff9d1d;\n      }\n\n      .van-grid-item__text {\n        font-size: 14px;\n        color: #333;\n      }\n    }\n  }\n\n  .mb-15 {\n    margin-bottom: 4px;\n  }\n\n  .logout {\n    text-align: center;\n    color: #d86262;\n  }\n}\n</style>"],"sourceRoot":"src/views/my"}]}