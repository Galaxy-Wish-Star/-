{"remainingRequest":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\babel-loader\\lib\\index.js!D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\src\\views\\article\\components\\comment-list.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\src\\views\\article\\components\\comment-list.vue","mtime":1645498622000},{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\babel.config.js","mtime":1645498622000},{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1674635617236},{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\babel-loader\\lib\\index.js","mtime":1674635619784},{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1674635617236},{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\vue-loader\\lib\\index.js","mtime":1674635619517}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJEOlxcV2ViX0RFVl9JTkdcXFZ1ZS5qc190ZWNobmljYWxfZnJhbWV3b3JrXFxWdWUyXHU5ODc5XHU3NkVFXHU1QjlFXHU2MjE4XFxIZWltYXRvdXRpYW8tbWFpblxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGVzbVxcdG9Db25zdW1hYmxlQXJyYXkuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRDpcXFdlYl9ERVZfSU5HXFxWdWUuanNfdGVjaG5pY2FsX2ZyYW1ld29ya1xcVnVlMlx1OTg3OVx1NzZFRVx1NUI5RVx1NjIxOFxcSGVpbWF0b3V0aWFvLW1haW5cXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXGFzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3Rvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmVycm9yLnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IGdldENvbW1lbnRMaXN0IH0gZnJvbSAnQC9hcGkvY29tbWVudCc7CmltcG9ydCB7IGdldFVzZXJJbmZvIH0gZnJvbSAnQC9hcGknOwppbXBvcnQgY29tbWVudEl0ZW0gZnJvbSAnLi9jb21tZW50LWl0ZW0udnVlJzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIGNvbW1lbnRJdGVtOiBjb21tZW50SXRlbQogIH0sCiAgbmFtZTogJ2NvbW1lbnRMaXN0JywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY29tbWVudExpc3Q6IFtdLAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgZmluaXNoZWQ6IGZhbHNlLAogICAgICBsaW1pdDogMTAsCiAgICAgIG9mZnNldDogbnVsbAogICAgfTsKICB9LAogIHByb3BzOiB7CiAgICBzb3VyY2U6IHsKICAgICAgdHlwZTogW051bWJlciwgU3RyaW5nLCBPYmplY3RdLAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIGxpc3Q6IHsKICAgICAgdHlwZTogW0FycmF5XSwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIFtdOwogICAgICB9CiAgICB9LAogICAgdHlwZTogewogICAgICB0eXBlOiBbU3RyaW5nXSwKICAgICAgZGVmYXVsdDogJ2EnCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBvbkxvYWQ6IGZ1bmN0aW9uIG9uTG9hZCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIF90aGlzJGNvbW1lbnRMaXN0OwoKICAgICAgICB2YXIgX3lpZWxkJGdldENvbW1lbnRMaXN0LCBkYXRhLCBfZGF0YSRkYXRhLCByZXN1bHRzLCBsYXN0X2lkOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBnZXRDb21tZW50TGlzdCh7CiAgICAgICAgICAgICAgICAgIHR5cGU6IF90aGlzLnR5cGUsCiAgICAgICAgICAgICAgICAgIHNvdXJjZTogX3RoaXMuc291cmNlLnRvU3RyaW5nKCksCiAgICAgICAgICAgICAgICAgIG9mZnNldDogX3RoaXMub2Zmc2V0LAogICAgICAgICAgICAgICAgICBsaW1pdDogX3RoaXMubGltaXQKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfeWllbGQkZ2V0Q29tbWVudExpc3QgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgZGF0YSA9IF95aWVsZCRnZXRDb21tZW50TGlzdC5kYXRhOwogICAgICAgICAgICAgICAgX2RhdGEkZGF0YSA9IGRhdGEuZGF0YSwgcmVzdWx0cyA9IF9kYXRhJGRhdGEucmVzdWx0cywgbGFzdF9pZCA9IF9kYXRhJGRhdGEubGFzdF9pZDsKCiAgICAgICAgICAgICAgICAoX3RoaXMkY29tbWVudExpc3QgPSBfdGhpcy5jb21tZW50TGlzdCkucHVzaC5hcHBseShfdGhpcyRjb21tZW50TGlzdCwgX3RvQ29uc3VtYWJsZUFycmF5KHJlc3VsdHMpKTsKCiAgICAgICAgICAgICAgICBfdGhpcy4kZW1pdCgndXBkYXRlLWNvbW1lbnRMZW5ndGgnLCBfdGhpcy5jb21tZW50TGlzdC5sZW5ndGgpOwoKICAgICAgICAgICAgICAgIF90aGlzLm9mZnNldCA9IGxhc3RfaWQ7CiAgICAgICAgICAgICAgICBfdGhpcy5sb2FkaW5nID0gZmFsc2U7CgogICAgICAgICAgICAgICAgaWYgKHJlc3VsdHMubGVuZ3RoID09IDApIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuZmluaXNoZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGFkZENvbW1lbnQ6IGZ1bmN0aW9uIGFkZENvbW1lbnQoKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBsaXN0OiB7CiAgICAgIGlzRGVlcDogdHJ1ZSwKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcigpIHsKICAgICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgICB2YXIgX3RoaXMyJGxpc3QkLCBpZE9iaiwgY29udGVudCwgX3lpZWxkJGdldFVzZXJJbmZvLCBkYXRhLCBuZXdDb21tZW50OwoKICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgIF90aGlzMiRsaXN0JCA9IF90aGlzMi5saXN0WzBdLCBpZE9iaiA9IF90aGlzMiRsaXN0JC5pZE9iaiwgY29udGVudCA9IF90aGlzMiRsaXN0JC5jb250ZW50OwogICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDM7CiAgICAgICAgICAgICAgICAgIHJldHVybiBnZXRVc2VySW5mbygpOwoKICAgICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgICAgX3lpZWxkJGdldFVzZXJJbmZvID0gX2NvbnRleHQzLnNlbnQ7CiAgICAgICAgICAgICAgICAgIGRhdGEgPSBfeWllbGQkZ2V0VXNlckluZm8uZGF0YTsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGlkT2JqKTsKICAgICAgICAgICAgICAgICAgbmV3Q29tbWVudCA9IHsKICAgICAgICAgICAgICAgICAgICBjb21faWQ6IGlkT2JqLmNvbV9pZCwKICAgICAgICAgICAgICAgICAgICBhdXRfaWQ6IGRhdGEuZGF0YS5pZCwKICAgICAgICAgICAgICAgICAgICBhdXRfbmFtZTogZGF0YS5kYXRhLm5hbWUsCiAgICAgICAgICAgICAgICAgICAgYXV0X3Bob3RvOiBkYXRhLmRhdGEucGhvdG8sCiAgICAgICAgICAgICAgICAgICAgbGlrZV9jb3VudDogMCwKICAgICAgICAgICAgICAgICAgICByZXBseV9jb3VudDogMCwKICAgICAgICAgICAgICAgICAgICBwdWJkYXRlOiBEYXRlLm5vdygpLAogICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IGNvbnRlbnQsCiAgICAgICAgICAgICAgICAgICAgaXNfdG9wOiAwLAogICAgICAgICAgICAgICAgICAgIGlzX2xpa2luZzogZmFsc2UKICAgICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMi5jb21tZW50TGlzdC51bnNoaWZ0KG5ld0NvbW1lbnQpOwoKICAgICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICAgIH0pKSgpOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["comment-list.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"commen-list\">\n        <van-list  v-model=\"loading\" :finished=\"finished\" :finished-text=\"commentList.length==0?'':'只有这么多评论啦~'\" @load=\"onLoad\">\n            <van-empty v-if=\"commentList.length==0\" description=\"暂时没有评论哦~ 快来发表第一条评论\" />\n            <comment-item @Reply=\"$emit('Reply',$event)\"  v-for=\"item,index in commentList\" :key=\"index\" :comment=\"item\">\n            </comment-item>\n        </van-list>\n    </div>\n</template>\n\n<script>\n    import {\n        getCommentList\n    } from '@/api/comment';\n    import {getUserInfo} from '@/api';\n    import commentItem from './comment-item.vue'\n    export default {\n        components: {\n            commentItem\n        },\n        name: 'commentList',\n        data() {\n            return {\n                commentList: [],\n                loading: false,\n                finished: false,\n                limit: 10,\n                offset: null\n            }\n        },\n        props: {\n            source: {\n                type: [Number, String, Object],\n                required: true\n            },\n            list:{\n                type:[Array],\n                default:()=>[]\n            },\n            type:{\n                type:[String],\n                default:'a'\n            }\n        },\n        methods: {\n            async onLoad() {\n                // 异步更新数据\n                const {\n                    data\n                } = await getCommentList({\n                    type: this.type,\n                    source: this.source.toString(),\n                    offset: this.offset,\n                    limit: this.limit\n                });\n                const {\n                    results,\n                    last_id\n                } = data.data\n                this.commentList.push(...results) ;\n                this.$emit('update-commentLength',this.commentList.length)\n                this.offset = last_id;\n                this.loading = false;\n                if (results.length == 0) {\n                    \n                    this.finished = true;\n                }\n            },\n            async addComment(){\n\n            }\n        },\n        watch:{\n            list:{\n                isDeep:true,\n                async handler(){\n                    const{idObj,content}=this.list[0];\n                    const{data}=await getUserInfo();\n                    console.log(data);\n                    console.log(idObj);\n                    let newComment={\n                        com_id:idObj.com_id,\n                        aut_id:data.data.id,\n                        aut_name:data.data.name,\n                        aut_photo:data.data.photo,\n                        like_count:0,\n                        reply_count:0,\n                        pubdate:Date.now(),\n                        content:content,\n                        is_top:0,\n                        is_liking:false\n                    }\n                    this.commentList.unshift(newComment);\n                }\n            }\n        }\n    }\n</script>\n\n<style lang=\"less\" scoped>\n    .title {\n        font-size: 20px;\n        padding: 10px;\n        color: #222222;\n    }\n</style>"],"sourceRoot":"src/views/article/components"}]}