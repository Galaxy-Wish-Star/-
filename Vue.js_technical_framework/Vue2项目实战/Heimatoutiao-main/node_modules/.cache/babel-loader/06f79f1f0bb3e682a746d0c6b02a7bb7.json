{"remainingRequest":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\babel-loader\\lib\\index.js!D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\src\\views\\userprofile\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\src\\views\\userprofile\\index.vue","mtime":1645498622000},{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\babel.config.js","mtime":1645498622000},{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1674635617236},{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\babel-loader\\lib\\index.js","mtime":1674635619784},{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1674635617236},{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\vue-loader\\lib\\index.js","mtime":1674635619517}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6XFxXZWJfREVWX0lOR1xcVnVlLmpzX3RlY2huaWNhbF9mcmFtZXdvcmtcXFZ1ZTJcdTk4NzlcdTc2RUVcdTVCOUVcdTYyMThcXEhlaW1hdG91dGlhby1tYWluXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZVxcaGVscGVyc1xcZXNtXFxhc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBnZXRVc2VyUHJvZmlsZSB9IGZyb20gIkAvYXBpL3VzZXIiOwppbXBvcnQgdXBkYXRlTmFtZSBmcm9tICIuL2NvbXBvbmVudHMvdXBkYXRlLW5hbWUudnVlIjsKaW1wb3J0IFVwZGF0ZUdlbmRlciBmcm9tICIuL2NvbXBvbmVudHMvdXBkYXRlLWdlbmRlci52dWUiOwppbXBvcnQgVXBkYXRlQmlydGhkYXkgZnJvbSAiLi9jb21wb25lbnRzL3VwZGF0ZS1iaXJ0aGRheS52dWUiOwppbXBvcnQgVXBkYXRlUGhvdG8gZnJvbSAiLi9jb21wb25lbnRzL3VwZGF0ZS1waG90by52dWUiOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgdXBkYXRlTmFtZTogdXBkYXRlTmFtZSwKICAgIFVwZGF0ZUdlbmRlcjogVXBkYXRlR2VuZGVyLAogICAgVXBkYXRlQmlydGhkYXk6IFVwZGF0ZUJpcnRoZGF5LAogICAgVXBkYXRlUGhvdG86IFVwZGF0ZVBob3RvCiAgfSwKICBuYW1lOiAidXNlcnByb2ZpbGUiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1c2VyOiB7fSwKICAgICAgaXNOYW1lc2hvdzogZmFsc2UsCiAgICAgIGlzR2VuZGVyc2hvdzogZmFsc2UsCiAgICAgIGlzQnJpdGhkYXlzaG93OiBmYWxzZSwKICAgICAgaXNQaG90b1Nob3c6IGZhbHNlLAogICAgICBwaWN0dXJlT2JqZWN0OiBudWxsCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgbG9hZFVzZXJQcm9maWxlOiBmdW5jdGlvbiBsb2FkVXNlclByb2ZpbGUoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBfeWllbGQkZ2V0VXNlclByb2ZpbGUsIGRhdGE7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIGdldFVzZXJQcm9maWxlKCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIF95aWVsZCRnZXRVc2VyUHJvZmlsZSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBkYXRhID0gX3lpZWxkJGdldFVzZXJQcm9maWxlLmRhdGE7CiAgICAgICAgICAgICAgICBfdGhpcy51c2VyID0gZGF0YS5kYXRhOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgb25GaWxlQ2hhbmdlOiBmdW5jdGlvbiBvbkZpbGVDaGFuZ2UoKSB7CiAgICAgIHRoaXMuaXNQaG90b1Nob3cgPSB0cnVlOyAvLyDop6blj5HlvLnlh7rlsYIg6aKE6KeI5Zu+54mHCgogICAgICB2YXIgZmlsZU9iamVjdCA9IHRoaXMuJHJlZnMuaW1nVXBsb2FkLmZpbGVzWzBdOwogICAgICB0aGlzLnBpY3R1cmVPYmplY3QgPSBmaWxlT2JqZWN0OwogICAgICB0aGlzLiRyZWZzLmltZ1VwbG9hZC52YWx1ZSA9ICIiOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMubG9hZFVzZXJQcm9maWxlKCk7CiAgICB0aGlzLiRzdG9yZS5jb21taXQoIlJFTU9WRUNBQ0hFUEFHRSIsICJsYXlvdXQiKTsKICB9Cn07"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2FA,SAAA,cAAA,QAAA,YAAA;AACA,OAAA,UAAA,MAAA,8BAAA;AACA,OAAA,YAAA,MAAA,gCAAA;AACA,OAAA,cAAA,MAAA,kCAAA;AACA,OAAA,WAAA,MAAA,+BAAA;AACA,eAAA;AACA,EAAA,UAAA,EAAA;AACA,IAAA,UAAA,EAAA,UADA;AAEA,IAAA,YAAA,EAAA,YAFA;AAGA,IAAA,cAAA,EAAA,cAHA;AAIA,IAAA,WAAA,EAAA;AAJA,GADA;AAOA,EAAA,IAAA,EAAA,aAPA;AAQA,EAAA,IARA,kBAQA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,EADA;AAEA,MAAA,UAAA,EAAA,KAFA;AAGA,MAAA,YAAA,EAAA,KAHA;AAIA,MAAA,cAAA,EAAA,KAJA;AAKA,MAAA,WAAA,EAAA,KALA;AAMA,MAAA,aAAA,EAAA;AANA,KAAA;AAQA,GAjBA;AAkBA,EAAA,OAAA,EAAA;AACA,IAAA,eADA,6BACA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,cAAA,EADA;;AAAA;AAAA;AACA,gBAAA,IADA,yBACA,IADA;AAEA,gBAAA,KAAA,CAAA,IAAA,GAAA,IAAA,CAAA,IAAA;;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA,KAJA;AAKA,IAAA,YALA,0BAKA;AACA,WAAA,WAAA,GAAA,IAAA,CADA,CAEA;;AACA,UAAA,UAAA,GAAA,KAAA,KAAA,CAAA,SAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,WAAA,aAAA,GAAA,UAAA;AACA,WAAA,KAAA,CAAA,SAAA,CAAA,KAAA,GAAA,EAAA;AACA;AAXA,GAlBA;AA+BA,EAAA,OA/BA,qBA+BA;AACA,SAAA,eAAA;AACA,SAAA,MAAA,CAAA,MAAA,CAAA,iBAAA,EAAA,QAAA;AACA;AAlCA,CAAA","sourcesContent":["<template>\n  <div class=\"user-profile\">\n    <!-- 上方导航栏 -->\n    <van-nav-bar title=\"个人信息\" left-arrow @click-left=\"$router.back()\" />\n\n    <!-- 个人信息模块 -->\n    <van-cell-group>\n      <input\n        type=\"file\"\n        accept=\"image/*\"\n        @change=\"onFileChange\"\n        hidden\n        ref=\"imgUpload\"\n      />\n      <van-cell\n        title=\"头像\"\n        @click=\"$refs.imgUpload.click()\"\n        value=\"内容\"\n        is-link\n        center\n      >\n        <van-image :src=\"user.photo\" fit=\"cover\" round width=\"35\" height=\"35\" />\n      </van-cell>\n      <van-cell\n        title=\"昵称\"\n        @click=\"isNameshow = true\"\n        is-link\n        :value=\"user.name\"\n      />\n      <van-cell\n        title=\"性别\"\n        @click=\"isGendershow = true\"\n        is-link\n        :value=\"user.gender == 0 ? '男' : '女'\"\n      />\n      <van-cell\n        title=\"生日\"\n        @click=\"isBrithdayshow = true\"\n        is-link\n        :value=\"user.birthday ? user.birthday : '未设置'\"\n      />\n    </van-cell-group>\n\n    <!-- 编辑昵称 -->\n    <van-popup\n      v-model=\"isNameshow\"\n      position=\"bottom\"\n      :style=\"{ height: '100%' }\"\n    >\n      <update-name\n        v-model=\"user.name\"\n        v-if=\"isNameshow\"\n        @close=\"isNameshow = false\"\n      >\n      </update-name>\n    </van-popup>\n\n    <!-- 编辑性别 -->\n    <van-popup v-model=\"isGendershow\" position=\"bottom\">\n      <update-gender\n        v-model=\"user.gender\"\n        @close=\"isGendershow = false\"\n      ></update-gender>\n    </van-popup>\n\n    <!-- 编辑生日 -->\n    <van-popup v-model=\"isBrithdayshow\" position=\"bottom\">\n      <update-birthday\n        v-if=\"isBrithdayshow\"\n        v-model=\"user.birthday\"\n        @close=\"isBrithdayshow = false\"\n      >\n      </update-birthday>\n    </van-popup>\n\n    <!-- 修改头像 -->\n    <div class=\"headImg\">\n      <van-popup v-model=\"isPhotoShow\" style=\"height: 100%\" position=\"bottom\">\n        <update-photo\n          v-if=\"isPhotoShow\"\n          @update-photo=\"user.photo = $event\"\n          @close=\"isPhotoShow = false\"\n          :file=\"pictureObject\"\n        >\n        </update-photo>\n      </van-popup>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { getUserProfile } from \"@/api/user\";\nimport updateName from \"./components/update-name.vue\";\nimport UpdateGender from \"./components/update-gender.vue\";\nimport UpdateBirthday from \"./components/update-birthday.vue\";\nimport UpdatePhoto from \"./components/update-photo.vue\";\nexport default {\n  components: {\n    updateName,\n    UpdateGender,\n    UpdateBirthday,\n    UpdatePhoto,\n  },\n  name: \"userprofile\",\n  data() {\n    return {\n      user: {},\n      isNameshow: false,\n      isGendershow: false,\n      isBrithdayshow: false,\n      isPhotoShow: false,\n      pictureObject: null,\n    };\n  },\n  methods: {\n    async loadUserProfile() {\n      const { data } = await getUserProfile();\n      this.user = data.data;\n    },\n    onFileChange() {\n      this.isPhotoShow = true;\n      // 触发弹出层 预览图片\n      const fileObject = this.$refs.imgUpload.files[0];\n      this.pictureObject = fileObject;\n      this.$refs.imgUpload.value = \"\";\n    },\n  },\n  created() {\n    this.loadUserProfile();\n    this.$store.commit(\"REMOVECACHEPAGE\", \"layout\");\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.headImg {\n  /deep/ .van-popup {\n    background-color: rgba(0, 0, 0, 0.267);\n  }\n}\n</style>"],"sourceRoot":"src/views/userprofile"}]}