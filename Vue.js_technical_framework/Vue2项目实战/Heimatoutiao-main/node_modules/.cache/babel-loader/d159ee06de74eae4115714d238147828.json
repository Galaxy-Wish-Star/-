{"remainingRequest":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\babel-loader\\lib\\index.js!D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\src\\views\\home\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\src\\views\\home\\index.vue","mtime":1645498622000},{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\babel.config.js","mtime":1645498622000},{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1674635617236},{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\babel-loader\\lib\\index.js","mtime":1674635619784},{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1674635617236},{"path":"D:\\Web_DEV_ING\\Vue.js_technical_framework\\Vue2项目实战\\Heimatoutiao-main\\node_modules\\vue-loader\\lib\\index.js","mtime":1674635619517}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDpcXFdlYl9ERVZfSU5HXFxWdWUuanNfdGVjaG5pY2FsX2ZyYW1ld29ya1xcVnVlMlx1OTg3OVx1NzZFRVx1NUI5RVx1NjIxOFxcSGVpbWF0b3V0aWFvLW1haW5cXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXG9iamVjdFNwcmVhZDIuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRDpcXFdlYl9ERVZfSU5HXFxWdWUuanNfdGVjaG5pY2FsX2ZyYW1ld29ya1xcVnVlMlx1OTg3OVx1NzZFRVx1NUI5RVx1NjIxOFxcSGVpbWF0b3V0aWFvLW1haW5cXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXGFzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBDaGFubmVsRWRpdCBmcm9tICIuL2NvbXBvbmVudHMvY2hhbm5lbC1lZGl0LnZ1ZSI7CmltcG9ydCB7IGdldFVzZXJDaGFubmVscyBhcyBfZ2V0VXNlckNoYW5uZWxzIH0gZnJvbSAiQC9hcGkiOwppbXBvcnQgQXJ0aWNsZUxpc3QgZnJvbSAiLi9jb21wb25lbnRzL2FydGljbGUtbGlzdC52dWUiOwppbXBvcnQgeyBtYXBTdGF0ZSB9IGZyb20gInZ1ZXgiOwppbXBvcnQgeyBnZXRJdGVtIH0gZnJvbSAiQC91dGlscy9zdG9yYWdlIjsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIEFydGljbGVMaXN0OiBBcnRpY2xlTGlzdCwKICAgIENoYW5uZWxFZGl0OiBDaGFubmVsRWRpdAogIH0sCiAgbmFtZTogImhvbWUiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBhY3RpdmU6IDAsCiAgICAgIGNoYW5uZWxzOiBbXSwKICAgICAgaXNDaGFubmVsRWRpdFNob3c6IGZhbHNlCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0VXNlckNoYW5uZWxzOiBmdW5jdGlvbiBnZXRVc2VyQ2hhbm5lbHMoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBfeWllbGQkX2dldFVzZXJDaGFubmUsIGRhdGEsIGxvY2FsQ2hhbm5lbHMsIF95aWVsZCRfZ2V0VXNlckNoYW5uZTIsIF9kYXRhOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoIV90aGlzLnVzZXIpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDk7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIF9nZXRVc2VyQ2hhbm5lbHMoKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgX3lpZWxkJF9nZXRVc2VyQ2hhbm5lID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIGRhdGEgPSBfeWllbGQkX2dldFVzZXJDaGFubmUuZGF0YTsKICAgICAgICAgICAgICAgIF90aGlzLmNoYW5uZWxzID0gZGF0YS5kYXRhLmNoYW5uZWxzOwoKICAgICAgICAgICAgICAgIGlmIChkYXRhLnN0YXR1cyA9PT0gNDAxKSB7Ly8g5q2k5pe25Yi35pawdG9rZW7kuZ/lpLHmlYjkuoYKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTk7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgbG9jYWxDaGFubmVscyA9IGdldEl0ZW0oInVzZXItY2hhbm5lbHMiKTsKCiAgICAgICAgICAgICAgICBpZiAoIWxvY2FsQ2hhbm5lbHMpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpcy5jaGFubmVscyA9IGxvY2FsQ2hhbm5lbHM7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTk7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNjsKICAgICAgICAgICAgICAgIHJldHVybiBfZ2V0VXNlckNoYW5uZWxzKCk7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICBfeWllbGQkX2dldFVzZXJDaGFubmUyID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIF9kYXRhID0gX3lpZWxkJF9nZXRVc2VyQ2hhbm5lMi5kYXRhOwogICAgICAgICAgICAgICAgX3RoaXMuY2hhbm5lbHMgPSBfZGF0YS5kYXRhLmNoYW5uZWxzOwoKICAgICAgICAgICAgICBjYXNlIDE5OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHNob3dDaGFubmVsRWRpdDogZnVuY3Rpb24gc2hvd0NoYW5uZWxFZGl0KCkgewogICAgICB0aGlzLmlzQ2hhbm5lbEVkaXRTaG93ID0gdHJ1ZTsKICAgIH0sCiAgICBvblVwZGF0ZUFjdGl2ZTogZnVuY3Rpb24gb25VcGRhdGVBY3RpdmUoaW5kZXgpIHsKICAgICAgdGhpcy5hY3RpdmUgPSBpbmRleDsKICAgIH0KICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBTdGF0ZShbInVzZXIiXSkpLAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldFVzZXJDaGFubmVscygpOwogIH0KfTs="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsEA,OAAA,WAAA,MAAA,+BAAA;AACA,SAAA,eAAA,IAAA,gBAAA,QAAA,OAAA;AACA,OAAA,WAAA,MAAA,+BAAA;AACA,SAAA,QAAA,QAAA,MAAA;AACA,SAAA,OAAA,QAAA,iBAAA;AACA,eAAA;AACA,EAAA,UAAA,EAAA;AACA,IAAA,WAAA,EAAA,WADA;AAEA,IAAA,WAAA,EAAA;AAFA,GADA;AAKA,EAAA,IAAA,EAAA,MALA;AAMA,EAAA,IANA,kBAMA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,CADA;AAEA,MAAA,QAAA,EAAA,EAFA;AAGA,MAAA,iBAAA,EAAA;AAHA,KAAA;AAKA,GAZA;AAaA,EAAA,OAAA,EAAA;AACA,IAAA,eADA,6BACA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,qBACA,KAAA,CAAA,IADA;AAAA;AAAA;AAAA;;AAAA;AAAA,uBAEA,gBAAA,EAFA;;AAAA;AAAA;AAEA,gBAAA,IAFA,yBAEA,IAFA;AAGA,gBAAA,KAAA,CAAA,QAAA,GAAA,IAAA,CAAA,IAAA,CAAA,QAAA;;AACA,oBAAA,IAAA,CAAA,MAAA,KAAA,GAAA,EAAA,CACA;AAEA;;AAPA;AAAA;;AAAA;AASA,gBAAA,aATA,GASA,OAAA,CAAA,eAAA,CATA;;AAAA,qBAUA,aAVA;AAAA;AAAA;AAAA;;AAWA,gBAAA,KAAA,CAAA,QAAA,GAAA,aAAA;AAXA;AAAA;;AAAA;AAAA;AAAA,uBAaA,gBAAA,EAbA;;AAAA;AAAA;AAaA,gBAAA,KAbA,0BAaA,IAbA;AAcA,gBAAA,KAAA,CAAA,QAAA,GAAA,KAAA,CAAA,IAAA,CAAA,QAAA;;AAdA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAiBA,KAlBA;AAoBA,IAAA,eApBA,6BAoBA;AACA,WAAA,iBAAA,GAAA,IAAA;AACA,KAtBA;AAwBA,IAAA,cAxBA,0BAwBA,KAxBA,EAwBA;AACA,WAAA,MAAA,GAAA,KAAA;AACA;AA1BA,GAbA;AAyCA,EAAA,QAAA,oBACA,QAAA,CAAA,CAAA,MAAA,CAAA,CADA,CAzCA;AA4CA,EAAA,OA5CA,qBA4CA;AACA,SAAA,eAAA;AACA;AA9CA,CAAA","sourcesContent":["<template>\n  <div class=\"home-container\">\n    <!-- 上部搜索导航栏 -->\n    <van-nav-bar class=\"nav-bar-search\">\n      <van-button\n        slot=\"title\"\n        round\n        size=\"small\"\n        class=\"search-button\"\n        icon=\"search\"\n        to=\"/search\"\n        >搜索</van-button\n      >\n    </van-nav-bar>\n\n    <!-- tab栏标签 -->\n    <van-tabs\n      class=\"channel-tabs\"\n      v-model=\"active\"\n      border\n      color=\"#3296fa\"\n      line-width=\"15px\"\n    >\n      <van-tab\n        class=\"channel-tabs-item\"\n        v-for=\"channel in channels\"\n        :title=\"channel.name\"\n        :key=\"channel.id\"\n      >\n        <article-list :channel=\"channel\"></article-list>\n      </van-tab>\n      <!-- 弹出层按钮 -->\n      <div\n        slot=\"nav-right\"\n        class=\"wap-nav-wrap\"\n        @click=\"isChannelEditShow = true\"\n      >\n        <van-icon name=\"wap-nav\" />\n      </div>\n      <div\n        slot=\"nav-right\"\n        class=\"wap-nav-set\"\n        @click=\"isChannelEditShow = true\"\n      ></div>\n    </van-tabs>\n    <!-- tab栏 -->\n\n    <!-- 弹出层 -->\n\n    <van-popup\n      v-model=\"isChannelEditShow\"\n      class=\"channel-popup-edit\"\n      closeable\n      position=\"bottom\"\n      get-container=\"body\"\n    >\n      <!-- 组件 -->\n      <channel-edit\n        :active=\"active\"\n        @update-active=\"onUpdateActive\"\n        :channels=\"channels\"\n        @close=\"isChannelEditShow = false\"\n      ></channel-edit>\n      <!-- 组件 -->\n    </van-popup>\n    <!-- 弹出层 -->\n  </div>\n</template>\n\n<script>\nimport ChannelEdit from \"./components/channel-edit.vue\";\nimport { getUserChannels } from \"@/api\";\nimport ArticleList from \"./components/article-list.vue\";\nimport { mapState } from \"vuex\";\nimport { getItem } from \"@/utils/storage\";\nexport default {\n  components: {\n    ArticleList,\n    ChannelEdit,\n  },\n  name: \"home\",\n  data() {\n    return {\n      active: 0,\n      channels: [],\n      isChannelEditShow: false,\n    };\n  },\n  methods: {\n    async getUserChannels() {\n      if (this.user) {\n        const { data } = await getUserChannels();\n        this.channels = data.data.channels;\n        if(data.status===401){\n          // 此时刷新token也失效了\n          \n        }\n      } else {\n        const localChannels = getItem(\"user-channels\");\n        if (localChannels) {\n          this.channels = localChannels;\n        } else {\n          const { data } = await getUserChannels();\n          this.channels = data.data.channels;\n        }\n      }\n    },\n\n    showChannelEdit() {\n      this.isChannelEditShow = true;\n    },\n\n    onUpdateActive(index) {\n      this.active = index;\n    },\n  },\n  computed: {\n    ...mapState([\"user\"]),\n  },\n  mounted() {\n    this.getUserChannels();\n  },\n};\n</script>\n\n<style scoped lang=\"less\">\n// 弹出层 挂载到body下\n.channel-popup-edit {\n  height: 100%;\n}\n\n.home-container {\n  .channel-tabs {\n    .wap-nav-set {\n      flex-shrink: 0;\n      //不参与平分 只参与固定。\n      width: 40px;\n    }\n\n    .wap-nav-wrap {\n      position: fixed;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      line-height: 44px;\n      right: 0px;\n      width: 40px;\n      height: 43px;\n      font-size: 20px;\n      background-color: rgba(255, 255, 255, 0.8);\n    }\n\n    /deep/ .van-tabs__nav {\n      padding: 0 !important;\n    }\n\n    /deep/ .van-tab {\n      border-right: 1px rgb(231, 231, 231) solid;\n      border-bottom: 1px rgb(223, 221, 221) solid;\n      width: 100px;\n    }\n\n    ::v-deep .van-tabs__line {\n      bottom: 6px !important;\n    }\n  }\n\n  .nav-bar-search {\n    /deep/ .van-nav-bar__title {\n      max-width: unset;\n    }\n\n    .search-button {\n      width: 277px;\n      height: 32px;\n      background-color: #5babfb;\n      border: none;\n      color: #fff;\n\n      .van-button__text {\n        font-size: 14px;\n      }\n\n      .van-icon {\n        font-size: 16px;\n        color: white;\n      }\n    }\n  }\n}\n</style>"],"sourceRoot":"src/views/home"}]}